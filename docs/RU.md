---
hide:
  - toc
---

<p align="center"><img src="../images/logo.png#gh-light-mode-only" alt=""><img src="../images/logo-dark.png#gh-dark-mode-only" alt=""></p>
<h1 align="center">What the f*ck Python! üò±</h1>
<p align="center">–ò–∑—É—á–µ–Ω–∏–µ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ Python —Å –ø–æ–º–æ—â—å—é –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏ "–º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ" –ø–æ–≤–µ–¥–µ–Ω–∏—è.</p>

–î—Ä—É–≥–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã: [English Original](https://github.com/satwikkansal/wtfpython) | [Russian –†—É—Å—Å–∫–∏–π](https://github.com/frontdevops/wtfpython) | [Chinese ‰∏≠Êñá](https://github.com/robertparley/wtfpython-cn) | [Vietnamese Ti·∫øng Vi·ªát](https://github.com/vuduclyunitn/wtfptyhon-vi) | [Spanish Espa√±ol](https://web.archive.org/web/20220511161045/https://github.com/JoseDeFreitas/wtfpython-es) | [Korean ÌïúÍµ≠Ïñ¥](https://github.com/buttercrab/wtfpython-ko) | [Add translation](https://github.com/satwikkansal/wtfpython/issues/new?title=Add%20translation%20for%20[LANGUAGE]&body=Expected%20time%20to%20finish:%20[X]%20weeks.%20I%27ll%20start%20working%20on%20it%20from%20[Y].)

–ï—â–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: [Interactive](https://colab.research.google.com/github/satwikkansal/wtfpython/blob/master/irrelevant/wtf.ipynb) | [CLI](https://pypi.python.org/pypi/wtfpython)

Python, –±—É–¥—É—á–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞. –ù–æ –∏–Ω–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ Python –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º–∏ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥.

–í–æ—Ç –∑–∞–±–∞–≤–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –ø—ã—Ç–∞—é—â–∏–π—Å—è –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã—Ö —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ –∏ –º–µ–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Python.

–•–æ—Ç—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–∏–∂–µ, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–µ —è–≤–ª—è—é—Ç—Å—è WTF –≤ –ø—Ä—è–º–æ–º —Å–º—ã—Å–ª–µ —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞, –Ω–æ –æ–Ω–∏ —Ä–∞—Å–∫—Ä–æ—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —á–∞—Å—Ç–∏ Python, –æ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã –º–æ–≥–ª–∏ –Ω–µ –∑–Ω–∞—Ç—å. –Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± –∏–∑—É—á–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∏ —è –≤–µ—Ä—é, —á—Ç–æ –≤–∞–º —ç—Ç–æ —Ç–æ–∂–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º!

–ï—Å–ª–∏ –≤—ã –æ–ø—ã—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –Ω–∞ Python, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω—è—Ç—å —ç—Ç–æ –∫–∞–∫ –≤—ã–∑–æ–≤, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑ –Ω–∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã —É–∂–µ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∏–∑ –Ω–∏—Ö —Ä–∞–Ω—å—à–µ, –∏ —è —Å–º–æ–≥—É –æ–∂–∏–≤–∏—Ç—å –≤–∞—à–∏ —Å—Ç–∞—Ä—ã–µ –¥–æ–±—Ä—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è! :sweat_smile:

PS: –ï—Å–ª–∏ –≤—ã –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å, –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –æ –Ω–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö [–∑–¥–µ—Å—å](https://github.com/satwikkansal/wtfpython/releases/) (–ø—Ä–∏–º–µ—Ä—ã, –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –∑–≤–µ–∑–¥–æ—á–∫–æ–π - —ç—Ç–æ –ø—Ä–∏–º–µ—Ä—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–¥–∞–∫—Ü–∏–∏). 

–ù—É —á—Ç–æ–∂, –Ω–∞—á–Ω–µ–º...

# Table of Contents

<!-- Generated using "markdown-toc -i README.md --maxdepth 3"-->
<!-- toc -->
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤](#structure-of-the-examples)
    + [‚ñ∂ –ö–∞–∫–æ–µ-—Ç–æ –º–æ–¥–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ](#-some-fancy-title)
- [–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ](#usage)
- [üëÄ –ü—Ä–∏–º–µ—Ä—ã](#-examples)
  * [–†–∞–∑–¥–µ–ª: –ù–∞–ø—Ä—è–≥–∏ –º–æ–∑–≥–∏!](#section-strain-your-brain)
    + [‚ñ∂ –ü–µ—Ä–≤–æ-–Ω–∞–ø–µ—Ä–≤–æ! *](#-first-things-first-)
    + [‚ñ∂ –ò–Ω–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ö–∏—Ç—Ä—ã–º–∏](#-strings-can-be-tricky-sometimes)
    + [‚ñ∂ –û—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ —Å —Ü–µ–ø–æ—á–∫–∞–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–π](#-be-careful-with-chained-operations)
    + [‚ñ∂ –ö–∞–∫ –Ω–µ –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä `is`](#-how-not-to-use-is-operator)
    + [‚ñ∂ –ú–∏—Å—Ç–∏–∫–∞ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è](#-hash-brownies)
    + [‚ñ∂ –í –≥–ª—É–±–∏–Ω–µ –¥—É—à–∏ –º—ã –≤—Å–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã](#-deep-down-were-all-the-same)
    + [‚ñ∂ –ë–µ—Å–ø–æ—Ä—è–¥–æ–∫ –≤–Ω—É—Ç—Ä–∏ –ø–æ—Ä—è–¥–∫–∞ *](#-disorder-within-order-)
    + [‚ñ∂ –ü—Ä–æ–¥–æ–ª–∂–∞–π –ø—ã—Ç–∞—Ç—å—Å—è... *](#-keep-trying-)
    + [‚ñ∂ –î–ª—è —á–µ–≥–æ?](#-for-what)
    + [‚ñ∂ –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ü–µ–Ω–∫–∏](#-evaluation-time-discrepancy)
    + [‚ñ∂ `is not ...` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `is(not ...)`](#-is-not--is-not-is-not-)
    + [‚ñ∂ –ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏, –≥–¥–µ X –ø–æ–±–µ–∂–¥–∞–µ—Ç –≤ –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–µ!](#-a-tic-tac-toe-where-x-wins-in-the-first-attempt)
    + [‚ñ∂ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –®—Ä–µ–¥–∏–Ω–≥–µ—Ä–∞](#-schr√∂dingers-variable-)
    + [‚ñ∂ The chicken-egg problem *](#-the-chicken-egg-problem-)
    + [‚ñ∂ –û—Ç–Ω–æ—à–µ–Ω–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤](#-subclass-relationships)
    + [‚ñ∂ –ú–µ—Ç–æ–¥—ã —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –∏ —Ç–æ–∂–¥–µ—Å—Ç–≤–∞](#-methods-equality-and-identity)
    + [‚ñ∂ All-true-ation *](#-all-true-ation-)
    + [‚ñ∂ –£–¥–∏–≤–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø—è—Ç–∞—è](#-the-surprising-comma)
    + [‚ñ∂ –°—Ç—Ä–æ–∫–∏ –∏ –æ–±—Ä–∞—Ç–Ω—ã–µ —Å–ª–µ—à–∏](#-strings-and-the-backslashes)
    + [‚ñ∂ not knot!](#-not-knot)
    + [‚ñ∂ –°—Ç—Ä–æ–∫–∏ —Å –ø–æ–ª–æ–≤–∏–Ω–æ–π —Ç—Ä–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫](#-half-triple-quoted-strings)
    + [‚ñ∂ What's wrong with booleans?](#-whats-wrong-with-booleans)
    + [‚ñ∂ –ê—Ç—Ä–∏–±—É—Ç—ã –∫–ª–∞—Å—Å–∞ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞](#-class-attributes-and-instance-attributes)
    + [‚ñ∂ yielding None](#-yielding-none)
    + [‚ñ∂ Yielding –∏–∑... –≤–æ–∑–≤—Ä–∞—Ç–∞! *](#-yielding-from-return-)
    + [‚ñ∂ NaN-—Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–æ—Å—Ç—å *](#-nan-reflexivity-)
    + [‚ñ∂ –ú—É—Ç–∞—Ü–∏—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–≥–æ!](#-mutating-the-immutable)
    + [‚ñ∂ –ò—Å—á–µ–∑–∞—é—â–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏](#-the-disappearing-variable-from-outer-scope)
    + [‚ñ∂ –ó–∞–≥–∞–¥–æ—á–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –∫–ª—é—á–∞](#-the-mysterious-key-type-conversion)
    + [‚ñ∂ –ü–æ—Å–º–æ—Ç—Ä–∏–º, —Å–º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —É–≥–∞–¥–∞—Ç—å —ç—Ç–æ?](#-lets-see-if-you-can-guess-this)
    + [‚ñ∂ Exceeds the limit for integer string conversion](#-exceeds-the-limit-for-integer-string-conversion)
  * [–†–∞–∑–¥–µ–ª: –°–∫–æ–ª—å–∑–∫–∏–µ —Å–∫–ª–æ–Ω—ã](#section-slippery-slopes)
    + [‚ñ∂ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è –≤–æ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –Ω–µ–º—É](#-modifying-a-dictionary-while-iterating-over-it)
    + [‚ñ∂ –£–ø—Ä—è–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è `del`](#-stubborn-del-operation)
    + [‚ñ∂ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏](#-the-out-of-scope-variable)
    + [‚ñ∂ –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞ –≤–æ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏](#-deleting-a-list-item-while-iterating)
    + [‚ñ∂ zip –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å –ø–æ—Ç–µ—Ä—è–º–∏ *](#-lossy-zip-of-iterators-)
    + [‚ñ∂ Loop variables leak out!](#-loop-variables-leaking-out)
    + [‚ñ∂ –û—Å—Ç–µ—Ä–µ–≥–∞–π—Ç–µ—Å—å –º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!](#-beware-of-default-mutable-arguments)
    + [‚ñ∂ Catching the Exceptions](#-catching-the-exceptions)
    + [‚ñ∂ Same operands, different story!](#-same-operands-different-story)
    + [‚ñ∂ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–Ω, –∏–≥–Ω–æ—Ä–∏—Ä—É—é—â–µ–µ –æ–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∫–ª–∞—Å—Å–∞](#-name-resolution-ignoring-class-scope)
    + [‚ñ∂ –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫–∞–∫ —É –±–∞–Ω–∫–∏—Ä–∞ *](#-rounding-like-a-banker-)
    + [‚ñ∂ Needles in a Haystack *](#-needles-in-a-haystack-)
    + [‚ñ∂ Splitsies *](#-splitsies-)
    + [‚ñ∂ –î–∏–∫–∏–π –∏–º–ø–æ—Ä—Ç *](#-wild-imports-)
    + [‚ñ∂ –í—Å–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ? *](#-all-sorted-)
    + [‚ñ∂ –ü–æ–ª—É–Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?](#-midnight-time-doesnt-exist)
  * [–†–∞–∑–¥–µ–ª: –°–∫—Ä—ã—Ç—ã–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞!](#section-the-hidden-treasures)
    + [‚ñ∂ –û'–∫–µ–π –ü–∏—Ç–æ–Ω, —Ç—ã –º–æ–∂–µ—à—å –∑–∞—Å—Ç–∞–≤–∏—Ç—å –º–µ–Ω—è –ª–µ—Ç–∞—Ç—å?](#-okay-python-can-you-make-me-fly)
    + [‚ñ∂ `goto`, –Ω–æ –ø–æ—á–µ–º—É?](#-goto-but-why)
    + [‚ñ∂ –î–µ—Ä–∂–∏—Ç–µ—Å—å!](#-brace-yourself)
    + [‚ñ∂ –î–∞–≤–∞–π—Ç–µ –≤—Å—Ç—Ä–µ—Ç–∏–º—Å—è —Å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º —è–∑—ã–∫–æ–≤—ã–º –¥—è–¥–µ–π –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å](#-lets-meet-friendly-language-uncle-for-life)
    + [‚ñ∂ –î–∞–∂–µ Python –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ª—é–±–æ–≤—å - —ç—Ç–æ —Å–ª–æ–∂–Ω–æ](#-even-python-understands-that-love-is-complicated)
    + [‚ñ∂ –î–∞, —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!](#-yes-it-exists)
    + [‚ñ∂ –ú–Ω–æ–≥–æ—Ç–æ—á–∏–µ *](#-ellipsis-)
    + [‚ñ∂ Inpinity](#-inpinity)
    + [‚ñ∂ Let's mangle](#-lets-mangle)
  * [–†–∞–∑–¥–µ–ª: –í–Ω–µ—à–Ω–æ—Å—Ç—å –æ–±–º–∞–Ω—á–∏–≤–∞!](#section-appearances-are-deceptive)
    + [‚ñ∂ –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç–µ —Å—Ç—Ä–æ–∫–∏?](#-skipping-lines)
    + [‚ñ∂ –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è](#-teleportation)
    + [‚ñ∂ –ù—É, —á—Ç–æ-—Ç–æ —Ç—É—Ç –Ω–µ—á–∏—Å—Ç–æ...](#-well-something-is-fishy)
  * [–†–∞–∑–¥–µ–ª: –†–∞–∑–Ω–æ–µ](#section-miscellaneous)
    + [‚ñ∂ `+=` –±—ã—Å—Ç—Ä–µ–µ](#--is-faster)
    + [‚ñ∂ –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –≥–∏–≥–∞–Ω—Ç—Å–∫—É—é —Å—Ç—Ä–æ–∫—É!](#-lets-make-a-giant-string)
    + [‚ñ∂ –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ `dict` *](#-slowing-down-dict-lookups-)
    + [‚ñ∂ –†–∞–∑–¥—É–≤–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å–ª–æ–≤–∞—Ä–µ–π *](#-bloating-instance-dicts-)
    + [‚ñ∂ Minor Ones *](#-minor-ones-)
- [Contributing](#contributing)
- [–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏](#acknowledgements)
- [üéì –õ–∏—Ü–µ–Ω–∑–∏—è](#-license)
  * [–£–¥–∏–≤–∏—Ç–µ –∏ —Å–≤–æ–∏—Ö –¥—Ä—É–∑–µ–π!](#surprise-your-friends-as-well)
  * [–ë–æ–ª—å—à–µ –ø–æ–¥–æ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤?](#more-content-like-this)
<!-- tocstop -->

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤

–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

> ### ‚ñ∂ –ö–∞–∫–æ–π-—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫
>
> ```py
> # –ö–æ–¥ —Å –ø—Ä–∏–∫–æ–ª–¥–µ—Å–∞–º–∏.
> # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞–≥–∏–∏...
> ```
>
> **–í—ã–≤–æ–¥ (Python –≤–µ—Ä—Å–∏—è(–∏)):**
>
> ```py
> >>> triggering_statement
> –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
> ```
> (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
>
>
> #### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
>
> * –ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.
> ```py
> # –ö–æ–¥
> # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
> ```
> **–í—ã–≤–æ–¥ (Python –≤–µ—Ä—Å–∏—è(–∏)):**
>
> ```py
> >>> trigger # –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –ø—Ä–∏–º–µ—Ä, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ª–µ–≥–∫–æ —Ä–∞—Å–∫—Ä—ã—Ç—å –º–∞–≥–∏—é
> # –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
> ```

**–í–∞–∂–Ω–æ:** –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–µ Python 3.5.2, –∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π Python, –µ—Å–ª–∏ —ç—Ç–æ —è–≤–Ω–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –ø–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–æ–º.

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–•–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–æ–ª—å–∑—É –æ—Ç —ç—Ç–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, - —á–∏—Ç–∞—Ç—å –∏—Ö –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –ø—Ä–∏—á–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞:
- –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã –æ–ø—ã—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –Ω–∞ Python, —Ç–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥—É–≥–∞–¥–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –¥–∞–ª—å—à–µ.
- –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤—ã–≤–æ–¥–∞ –∏,
  + –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –≤–∞—à–∏–º–∏ –æ–∂–∏–¥–∞–Ω–∏—è–º–∏.
  + –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–Ω–∞–µ—Ç–µ —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –≤—ã–≤–æ–¥ –ø–æ–ª—É—á–∏–ª—Å—è –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–º.
    - –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π (—á—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ), —Å–¥–µ–ª–∞–π—Ç–µ –≥–ª—É–±–æ–∫–∏–π –≤–¥–æ—Ö –∏ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ (–∞ –µ—Å–ª–∏ –≤—ã –≤—Å–µ –µ—â–µ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, –∫—Ä–∏–∫–Ω–∏—Ç–µ! –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—É [–∑–¥–µ—Å—å](https://github.com/satwikkansal/wtfpython/issues/new)).
    - –ï—Å–ª–∏ "–¥–∞", –ø–æ—Ö–ª–æ–ø–∞–π—Ç–µ —Å–µ–±—è –ø–æ —Å–ø–∏–Ω–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∏–º–µ—Ä—É.

PS: –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —á–∏—Ç–∞—Ç—å WTFPython –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è [pypi package](https://pypi.python.org/pypi/wtfpython),
```sh
$ pip install wtfpython -U
$ wtfpython
```
---

# üëÄ –ü—Ä–∏–º–µ—Ä—ã

## –°–µ–∫—Ü–∏—è: –ù–∞–ø—Ä—è–≥–∏ –º–æ–∑–≥–∏!

### ‚ñ∂ –í–∞–∂–Ω–æ–µ –æ –≥–ª–∞–≤–Ω–æ–º!

<!-- Example ID: d3d73936-3cf1-4632-b5ab-817981338863 -->
<!-- read-only -->

–ü–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ "–º–æ—Ä–∂–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä"(walrus) (`:=`) –≤ Python 3.8 —Å—Ç–∞–ª –¥–æ–≤–æ–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –µ–≥–æ,

1\.

```py
# Python version 3.8+

>>> a = "wtf_walrus"
>>> a
'wtf_walrus'

>>> a := "wtf_walrus"
File "<stdin>", line 1
    a := "wtf_walrus"
      ^
SyntaxError: invalid syntax

>>> (a := "wtf_walrus") # This works though
'wtf_walrus'
>>> a
'wtf_walrus'
```

2 \.

```py
# Python version 3.8+

>>> a = 6, 9
>>> a
(6, 9)

>>> (a := 6, 9)
(6, 9)
>>> a
6

>>> a, b = 6, 9 # Typical unpacking
>>> a, b
(6, 9)
>>> (a, b = 16, 19) # Oops
  File "<stdin>", line 1
    (a, b = 16, 19)
          ^
SyntaxError: invalid syntax

>>> (a, b := 16, 19) # This prints out a weird 3-tuple
(6, 16, 19)

>>> a # a is still unchanged?
6

>>> b
16
```



#### üí° –û–±—å—è—Å–Ω–µ–Ω–∏–µ

**–ë—ã—Å—Ç—Ä—ã–π —Ä–∞–∑–±–æ—Ä —á—Ç–æ —Ç–∞–∫–æ–µ "–º–æ—Ä–∂–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä" (walrus)**

"–ú–æ—Ä–∂–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä" (`:=`) –±—ã–ª–∞ –≤–≤–µ–¥–µ–Ω–∞ –≤ Python 3.8, –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–∞ –≤ —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏.

```py
def some_func():
        # Assume some expensive computation here
        # time.sleep(1000)
        return 5

# So instead of,
if some_func():
        print(some_func()) # Which is bad practice since computation is happening twice

# or
a = some_func()
if a:
    print(a)

# Now you can concisely write
if a := some_func():
        print(a)
```

**–í—ã–≤–æ–¥ (> 3.8):**

```py
5
5
5
```

–≠—Ç–æ —Å—ç–∫–æ–Ω–æ–º–∏–ª–æ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∫–æ–¥–∞ –∏ –Ω–µ—è–≤–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–æ –≤—ã–∑–æ–≤ `some_func` –¥–≤–∞–∂–¥—ã.

- –ù–µ–ø–∞—Ä–µ–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ "–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è" (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ—Ä–∂–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞), –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ, –æ—Ç—Å—é–¥–∞ `SyntaxError` –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ `a := "wtf_walrus"` –ø–µ—Ä–≤–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞. –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–µ–Ω—Ç–µ–∑ —Å—Ä–∞–±–æ—Ç–∞–ª–∞, –∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å, –∏ –ø—Ä–∏—Å–≤–æ–∏–ª–∞ `a`.  

- –ö–∞–∫ –æ–±—ã—á–Ω–æ, –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–∫–æ–±–∫–∞–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä `=`, –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è. –û—Ç—Å—é–¥–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ `(a, b = 6, 9)`. 

- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –º–æ—Ä–∂–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏–º–µ–µ—Ç –≤–∏–¥ `NAME:= expr`, –≥–¥–µ `NAME` - –¥–æ–ø—É—Å—Ç–∏–º—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∞ `expr` - –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —É–ø–∞–∫–æ–≤–∫–∞ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∏—Ç–µ—Ä–∞–±–µ–ª—å–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, 

  - `(a := 6, 9)` is equivalent to `((a := 6), 9)` and ultimately `(a, 9) ` (where `a`'s value is 6')

    ```py
    >>> (a := 6, 9) == ((a := 6), 9)
    True
    >>> x = (a := 696, 9)
    >>> x
    (696, 9)
    >>> x[0] is a # Both reference same memory location
    True
    ```

  - Similarly, `(a, b := 16, 19)` is equivalent to `(a, (b := 16), 19)` which is nothing but a 3-tuple. 

---

### ‚ñ∂ –°—Ç—Ä–æ–∫–∏ –∏–Ω–æ–≥–¥–∞ –≤–µ–¥—É—Ç —Å–µ–±—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ

<!-- Example ID: 30f1d3fc-e267-4b30-84ef-4d9e7091ac1a --->
1\.

```py
>>> a = "some_string"
>>> id(a)
140420665652016
>>> id("some" + "_" + "string") # Notice that both the ids are same.
140420665652016
```

2\.
```py
>>> a = "wtf"
>>> b = "wtf"
>>> a is b
True

>>> a = "wtf!"
>>> b = "wtf!"
>>> a is b
False

```

3\.

```py
>>> a, b = "wtf!", "wtf!"
>>> a is b # –í—Å–µ –≤–µ—Ä—Å–∏–∏, –∫—Ä–æ–º–µ 3.7.x
True

>>> a = "wtf!"; b = "wtf!"
>>> a is b # –≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç True –∏–ª–∏ False –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –≥–¥–µ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ (python shell / ipython / as a script)
False
```

```py
# This time in file some_file.py
a = "wtf!"
b = "wtf!"
print(a is b)

# –≤—ã–≤–æ–¥–∏—Ç True –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–æ–¥—É–ª—è!
```

4\.

**–†–µ–∑—É–ª—å—Ç–∞—Ç (< Python3.7 )**

```py
>>> 'a' * 20 is 'aaaaaaaaaaaaaaaaaaaa'
True
>>> 'a' * 21 is 'aaaaaaaaaaaaaaaaaaaaa'
False
```

–õ–æ–≥–∏—á–Ω–æ, –ø—Ä–∞–≤–¥–∞?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –ø–µ—Ä–≤–æ–º –∏ –≤—Ç–æ—Ä–æ–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö —Å–≤—è–∑–∞–Ω–æ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π CPython (–Ω–∞–∑—ã–≤–∞–µ–º–æ–π –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–æ–∫), –∫–æ—Ç–æ—Ä–∞—è –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.
+ –ü–æ—Å–ª–µ "–∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∏—è" –º–Ω–æ–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏ (—Ç–µ–º —Å–∞–º—ã–º —ç–∫–æ–Ω–æ–º—è –ø–∞–º—è—Ç—å).
+ –í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤—ã—à–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö —Å—Ç—Ä–æ–∫–∏ –Ω–µ—è–≤–Ω–æ –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω—ã. –†–µ—à–µ–Ω–∏–µ –æ —Ç–æ–º, –∫–æ–≥–¥–∞ –Ω–µ—è–≤–Ω–æ –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –°—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –±—É–¥–µ—Ç –ª–∏ —Å—Ç—Ä–æ–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∞ –∏–ª–∏ –Ω–µ—Ç:
  * –í—Å–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª–∏–Ω—ã 0 –∏ –¥–ª–∏–Ω—ã 1 –∏–Ω—Ç–µ—Ä–Ω–∏—Ä—É—é—Ç—Å—è.
  * –°—Ç—Ä–æ–∫–∏ –∏–Ω—Ç–µ—Ä–Ω–∏—Ä—É—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (`'wtf'' –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∞, –Ω–æ `''.join(['w'', 't'', 'f'])` –Ω–µ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–∞)
  * –°—Ç—Ä–æ–∫–∏, –Ω–µ —Å–æ—Å—Ç–æ—è—â–∏–µ –∏–∑ –±—É–∫–≤ ASCII, —Ü–∏—Ñ—Ä –∏–ª–∏ –∑–Ω–∞–∫–æ–≤ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è, –Ω–µ –∏–Ω—Ç–µ—Ä–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É `'wtf!'` –Ω–µ –∏–Ω—Ç–µ—Ä–Ω–∏—Ä—É–µ—Ç—Å—è –∏–∑-–∑–∞ `!`. –†–µ–∞–ª–∏–∑–∞—Ü–∏—é —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –≤ CPython –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](https://github.com/python/cpython/blob/3.6/Objects/codeobject.c#L19)
  ![image](../images/string-intern/string_intern.png)
+ –ö–æ–≥–¥–∞ `a` –∏ `b` –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `"wtf!"` –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –∞ –∑–∞—Ç–µ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é. –ï—Å–ª–∏ –≤—ã –¥–µ–ª–∞–µ—Ç–µ —ç—Ç–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö, –æ–Ω –Ω–µ "–∑–Ω–∞–µ—Ç", —á—Ç–æ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç `"wtf!"` –∫–∞–∫ –æ–±—ä–µ–∫—Ç (–ø–æ—Ç–æ–º—É —á—Ç–æ `"wtf!"` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—è–≤–Ω–æ –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ñ–∞–∫—Ç–∞–º–∏, —É–ø–æ–º—è–Ω—É—Ç—ã–º–∏ –≤—ã—à–µ). –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –≠—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –≤–µ—Ä—Å–∏—è–º CPython 3.7.x (–±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –∑–¥–µ—Å—å [issue](https://github.com/satwikkansal/wtfpython/issues/100)).
+ –ï–¥–∏–Ω–∏—Ü–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ, —Ç–∞–∫–æ–π –∫–∞–∫ IPython, —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, —Ç–æ–≥–¥–∞ –∫–∞–∫ –≤ —Å–ª—É—á–∞–µ –º–æ–¥—É–ª–µ–π –æ–Ω–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è. `a, b = "wtf!", "wtf!"` - —ç—Ç–æ –æ–¥–Ω–æ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —Ç–æ–≥–¥–∞ –∫–∞–∫ `a = "wtf!"; b = "wtf!"` - —ç—Ç–æ –¥–≤–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É —Ç–æ–∂–¥–µ—Å—Ç–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã –≤ `a = "wtf!"; b = "wtf!"`, –∞ —Ç–∞–∫–∂–µ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –æ–Ω–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –≤ `some_file.py`.
+ –†–µ–∑–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –≤—ã–≤–æ–¥–µ —á–µ—Ç–≤–µ—Ä—Ç–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ —Å–≤—è–∑–∞–Ω–æ —Å [peephole optimization](https://en.wikipedia.org/wiki/Peephole_optimization) —Ç–µ—Ö–Ω–∏–∫–æ–π, –∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–∞–∫ Constant folding. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `'a'*20` –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `'aaaaaaaaaaaaaaaaaaaa'` –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —á—Ç–æ–±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–∫—Ç–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –°–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—Ä–æ–∫ –¥–ª–∏–Ω–æ–π –º–µ–Ω–µ–µ 21. (–ü–æ—á–µ–º—É? –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ `.pyc`, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è `'a'*10**10`). [–í–æ—Ç](https://github.com/python/cpython/blob/3.6/Python/peephole.c#L288) –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ.
+ –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í Python 3.7 —Å–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –±—ã–ª–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ peephole –≤ –Ω–æ–≤—ã–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä AST —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –ª–æ–≥–∏–∫–µ, –ø–æ—ç—Ç–æ–º—É —á–µ—Ç–≤–µ—Ä—Ç—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Python 3.7. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](https://bugs.python.org/issue11549). 

---


### ‚ñ∂ Be careful with chained operations
<!-- Example ID: 07974979-9c86-4720-80bd-467aa19470d9 --->
```py
>>> (False == False) in [False] # makes sense
False
>>> False == (False in [False]) # makes sense
False
>>> False == False in [False] # now what?
True

>>> True is False == False
False
>>> False is False is False
True

>>> 1 > 0 < 1
True
>>> (1 > 0) < 1
False
>>> 1 > (0 < 1)
False
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

As per https://docs.python.org/3/reference/expressions.html#comparisons

> –§–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ a, b, c, ..., y, z - –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∞ op1, op2, ..., opN - –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —Ç–æ a op1 b op2 c ... y opN z —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ a op1 b –∏ b op2 c –∏ ... y opN z, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –∫–∞–∂–¥–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞.

–•–æ—Ç—è —Ç–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –≤–∞–º –≥–ª—É–ø—ã–º –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–∞—Ö, –æ–Ω–æ –ø—Ä–æ—Å—Ç–æ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω–æ –¥–ª—è —Ç–∞–∫–∏—Ö –≤–µ—â–µ–π, –∫–∞–∫ `a == b == c` –∏ `0 <= x <= 100`.

* `False is False is False` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `(False is False) –∏ (False is False)`.
* ``True is False == False`` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ ``(True is False) and (False == False)`` –∏ —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è (`True is False``) –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ `False``, —Ç–æ –≤—Å–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ `False``.
* `1 > 0 < 1` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `(1 > 0) –∏ (0 < 1)`, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ `True`.
* –í—ã—Ä–∞–∂–µ–Ω–∏–µ `(1 > 0) < 1` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `True < 1` –∏
  ```py
  >>> int(True)
  1
  >>> True + 1 # –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, –Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–ª—è –∏–Ω—Ç–µ—Ä–µ—Å–∞
  2
  ```
  –í –∏—Ç–æ–≥–µ, `1 < 1` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ –¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç `False`

---

### ‚ñ∂ –ö–∞–∫ –Ω–µ –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä `is`
<!-- Example ID: 230fa2ac-ab36-4ad1-b675-5f5a1c1a6217 --->
–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –æ—á–µ–Ω—å –∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤–æ –≤—Å–µ–º –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.

1\.

```py
>>> a = 256
>>> b = 256
>>> a is b
True

>>> a = 257
>>> b = 257
>>> a is b
False
```

2\.

```py
>>> a = []
>>> b = []
>>> a is b
False

>>> a = tuple()
>>> b = tuple()
>>> a is b
True
```

3\.
**–†–µ–∑—É–ª—å—Ç–∞—Ç**

```py
>>> a, b = 257, 257
>>> a is b
True
```

**–í—ã–≤–æ–¥ (Python 3.7.x specifically)**

```py
>>> a, b = 257, 257
>>> a is b
False
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `is` –∏ `==`**.

* –û–ø–µ—Ä–∞—Ç–æ—Ä `is` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—Å—ã–ª–∞—é—Ç—Å—è –ª–∏ –æ–±–∞ –æ–ø–µ—Ä–∞–Ω–¥–∞ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç (—Ç.–µ. –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ –∏–ª–∏ –Ω–µ—Ç).
* –û–ø–µ—Ä–∞—Ç–æ—Ä `==` —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–æ–∏—Ö –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ–¥–∏–Ω–∞–∫–æ–≤—ã –ª–∏ –æ–Ω–∏.
* –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ–ø–µ—Ä–∞—Ç–æ—Ä `is` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ —Å—Å—ã–ª–æ–∫, –∞ `==` - –¥–ª—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–π. –ü—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–æ—è—Å–Ω–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é,
  ```py
  >>> class A: pass
  >>> A() is A() # These are two empty objects at two different memory locations.
  False
  ```

**`256` - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç, –∞ `257` - –Ω–µ—Ç**.

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ python –±—É–¥—É—Ç –≤—ã–¥–µ–ª–µ–Ω—ã —á–∏—Å–ª–∞ –æ—Ç `-5` –¥–æ `256`. –≠—Ç–∏ —á–∏—Å–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–∞—Å—Ç–æ, –ø–æ—ç—Ç–æ–º—É –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø—Ä–æ—Å—Ç–æ –∏–º–µ—Ç—å –∏—Ö –Ω–∞–≥–æ—Ç–æ–≤–µ.

–¶–∏—Ç–∏—Ä—É—é –ø–æ https://docs.python.org/3/c-api/long.html
> –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç –º–∞—Å—Å–∏–≤ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –æ—Ç -5 –¥–æ 256, –∫–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ int –≤ —ç—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ, –≤—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ —Å—Å—ã–ª–∫—É –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç. –ü–æ—ç—Ç–æ–º—É –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ 1. –Ø –ø–æ–¥–æ–∑—Ä–µ–≤–∞—é, —á—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Python –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ. :-)

```py
>>> id(256)
10922528
>>> a = 256
>>> b = 256
>>> id(a)
10922528
>>> id(b)
10922528
>>> id(257)
140084850247312
>>> x = 257
>>> y = 257
>>> id(x)
140084850247440
>>> id(y)
140084850247344
```

–ó–¥–µ—Å—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—É –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–æ–∑–≥–æ–≤ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `y = 257` –ø–æ–Ω—è—Ç—å, —á—Ç–æ –º—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `257,` –∏ –ø–æ—ç—Ç–æ–º—É –æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏.

–ü–æ–¥–æ–±–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∏ –∫ –¥—Ä—É–≥–∏–º **–∏–∑–º–µ–Ω—è–µ–º—ã–º** –æ–±—ä–µ–∫—Ç–∞–º, —Ç–∞–∫–∏–º –∫–∞–∫ –ø—É—Å—Ç—ã–µ –∫–æ—Ä—Ç–µ–∂–∏. –ü–æ—Å–∫–æ–ª—å–∫—É —Å–ø–∏—Å–∫–∏ —è–≤–ª—è—é—Ç—Å—è –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, –ø–æ—ç—Ç–æ–º—É `[] is []` –≤–µ—Ä–Ω–µ—Ç `False`, –∞ `() is ()` –≤–µ—Ä–Ω–µ—Ç `True`. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –Ω–∞—à –≤—Ç–æ—Ä–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç. –ü–µ—Ä–µ–π–¥–µ–º –∫ —Ç—Ä–µ—Ç—å–µ–º—É, 

**–ò `a`, –∏ `b` —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–µ*.

**–í—ã–≤–æ–¥**

```py
>>> a, b = 257, 257
>>> id(a)
140640774013296
>>> id(b)
140640774013296
>>> a = 257
>>> b = 257
>>> id(a)
140640774013392
>>> id(b)
140640774013488
```

* –ö–æ–≥–¥–∞ a –∏ b —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ `257` –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –∞ –∑–∞—Ç–µ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é. –ï—Å–ª–∏ –≤—ã –¥–µ–ª–∞–µ—Ç–µ —ç—Ç–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö, –æ–Ω –Ω–µ "–∑–Ω–∞–µ—Ç", —á—Ç–æ –æ–±—ä–µ–∫—Ç `257` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

* –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏–º–µ–Ω–Ω–æ –∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ. –ö–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∂–∏–≤–æ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–µ, –æ–Ω–∏ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, –ø–æ—ç—Ç–æ–º—É –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ. –ï—Å–ª–∏ –±—ã –≤—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –≤ —Ñ–∞–π–ª–µ `.py', –≤—ã –±—ã –Ω–µ —É–≤–∏–¥–µ–ª–∏ —Ç–∞–∫–æ–≥–æ –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ–∞–π–ª –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å —Å—Ä–∞–∑—É. –≠—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏, –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–º–µ—Ä "–°—Ç—Ä–æ–∫–∏ - —ç—Ç–æ —Å–ª–æ–∂–Ω–æ") –∏ –ø–ª–∞–≤–∞—é—â–∏–µ —á–∏—Å–ª–∞,

  ```py
  >>> a, b = 257.0, 257.0
  >>> a is b
  True
  ```

* –ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ –≤ Python 3.7? –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ç–∞–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ç.–µ. –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏, –û–° –∏ —Ç.–¥.). –Ø –≤—Å–µ –µ—â–µ –≤—ã—è—Å–Ω—è—é, –∫–∞–∫–æ–µ –∏–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–∑–≤–∞–ª–æ –ø—Ä–æ–±–ª–µ–º—É, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ—Ç [issue](https://github.com/satwikkansal/wtfpython/issues/100) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

---


### ‚ñ∂ Hash brownies
<!-- Example ID: eb17db53-49fd-4b61-85d6-345c5ca213ff --->
1\.
```py
some_dict = {}
some_dict[5.5] = "JavaScript"
some_dict[5.0] = "Ruby"
some_dict[5] = "Python"
```

**–í—ã–≤–æ–¥:**

```py
>>> some_dict[5.5]
"JavaScript"
>>> some_dict[5.0] # "Python" destroyed the existence of "Ruby"?
"Python"
>>> some_dict[5] 
"Python"

>>> complex_five = 5 + 0j
>>> type(complex_five)
complex
>>> some_dict[complex_five]
"Python"
```

–¢–∞–∫ –ø–æ—á–µ–º—É –∂–µ Python –ø–æ–≤—Å—é–¥—É?


#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ.

* –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π –≤ —Å–ª–æ–≤–∞—Ä–µ Python –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è *—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å—é*, –∞ –Ω–µ —Ç–æ–∂–¥–µ—Å—Ç–≤–æ–º. –ü–æ—ç—Ç–æ–º—É, –¥–∞–∂–µ –µ—Å–ª–∏ `5`, `5.0` –∏ `5 + 0j` —è–≤–ª—è—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ —Ä–∞–≤–Ω—ã, –æ–Ω–∏ –Ω–µ –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ `–¥–∏–∫—Ç–µ` (–∏–ª–∏ `–Ω–∞–±–æ—Ä–µ`). –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –≤—Å—Ç–∞–≤–∏—Ç–µ –ª—é–±–æ–π –∏–∑ –Ω–∏—Ö, –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –ª—é–±–æ–º—É –¥—Ä—É–≥–æ–º—É, –Ω–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–º—É –∫–ª—é—á—É –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ–π —Å –∏—Å—Ö–æ–¥–Ω—ã–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º (–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π `KeyError`):
  ```py
  >>> 5 == 5.0 == 5 + 0j
  True
  >>> 5 is not 5.0 is not 5 + 0j
  True
  >>> some_dict = {}
  >>> some_dict[5.0] = "Ruby"
  >>> 5.0 in some_dict
  True
  >>> (5 in some_dict) and (5 + 0j in some_dict)
  True
  ```
* –≠—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ –∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —ç–ª–µ–º–µ–Ω—Ç–∞. –ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –≤—ã –¥–µ–ª–∞–µ—Ç–µ `some_dict[5] = "Python"`, Python –Ω–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–º –∫–ª—é—á–æ–º `5.0 -> "Ruby"`, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–æ, –∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–ª—é—á –æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤ –ø–æ–∫–æ–µ.
  ```py
  >>> some_dict
  {5.0: 'Ruby'}
  >>> some_dict[5] = "Python"
  >>> some_dict
  {5.0: 'Python'}
  ```
* –ò—Ç–∞–∫, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –æ–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –¥–æ `5` (–≤–º–µ—Å—Ç–æ `5.0`)? –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º—ã –Ω–µ –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–µ, –Ω–æ —á—Ç–æ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å, —Ç–∞–∫ —ç—Ç–æ —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª–∏—Ç—å –∫–ª—é—á (`del some_dict[5.0]`), –∞ –∑–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ (`some_dict[5]`), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ `5` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –≤–º–µ—Å—Ç–æ –ø–ª–∞–≤–∞—é—â–µ–≥–æ `5.0`, —Ö–æ—Ç—è —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö.

* –ö–∞–∫ Python –Ω–∞—à–µ–ª `5` –≤ —Å–ª–æ–≤–∞—Ä–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º `5.0`? Python –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –≤—Ä–µ–º—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏–∏. –ö–æ–≥–¥–∞ Python –∏—â–µ—Ç –∫–ª—é—á `foo` –≤ —Å–ª–æ–≤–∞—Ä–µ, –æ–Ω —Å–Ω–∞—á–∞–ª–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç `hash(foo)` (—á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏). –ü–æ—Å–∫–æ–ª—å–∫—É –≤ Python —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —Ö—ç—à-–∑–Ω–∞—á–µ–Ω–∏–µ ([docs](https://docs.python.org/3/reference/datamodel.html#object.__hash__) –∑–¥–µ—Å—å), `5`, `5.0` –∏ `5 + 0j` –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —Ö—ç—à-–∑–Ω–∞—á–µ–Ω–∏–µ.
  ```py
  >>> 5 == 5.0 == 5 + 0j
  True
  >>> hash(5) == hash(5.0) == hash(5 + 0j)
  True
  ```
  **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û–±—Ä–∞—Ç–Ω–æ–µ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Ä–Ω–æ: –û–±—ä–µ–∫—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —Ö—ç—à-–∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Å–∞–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Ä–∞–≤–Ω—ã–º–∏. (–≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—É—é [—Ö—ç—à-–∫–æ–ª–ª–∏–∑–∏—é](https://en.wikipedia.org/wiki/Collision_(computer_science)) –∏ —É—Ö—É–¥—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—É—é –æ–±—ã—á–Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ).

---

### ‚ñ∂ –í –≥–ª—É–±–∏–Ω–µ –¥—É—à–∏ –º—ã –≤—Å–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã.
<!-- Example ID: 8f99a35f-1736-43e2-920d-3b78ec35da9b --->
```py
class WTF:
  pass
```

**–í—ã–≤–æ–¥:**
```py
>>> WTF() == WTF() # two different instances can't be equal
False
>>> WTF() is WTF() # identities are also different
False
>>> hash(WTF()) == hash(WTF()) # hashes _should_ be different as well
True
>>> id(WTF()) == id(WTF())
True
```
#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `id` Python —Å–æ–∑–¥–∞–ª –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ `WTF` –∏ –ø–µ—Ä–µ–¥–∞–ª –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–∏ `id`. –§—É–Ω–∫—Ü–∏—è `id` –∑–∞–±–∏—Ä–∞–µ—Ç —Å–≤–æ–π `id` (–º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏) –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç. –û–±—ä–µ–∫—Ç —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.
* –ö–æ–≥–¥–∞ –º—ã –¥–µ–ª–∞–µ–º —ç—Ç–æ –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥, Python –≤—ã–¥–µ–ª—è–µ—Ç —Ç—É –∂–µ —Å–∞–º—É—é –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –∏ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –ü–æ—Å–∫–æ–ª—å–∫—É (–≤ CPython) `id` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—á–∞—Å—Ç–æ–∫ –ø–∞–º—è—Ç–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–≤—É—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤.
* –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, id –æ–±—ä–µ–∫—Ç–∞ —É–Ω–∏–∫–∞–ª–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—á–µ–Ω–∏–µ –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–∞. –ü–æ—Å–ª–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ –¥–æ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ç–∞–∫–æ–π –∂–µ id.
* –ù–æ –ø–æ—á–µ–º—É –æ–ø–µ—Ä–∞—Ç–æ—Ä `is` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `False`? –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞.
  ```py
  class WTF(object):
    def __init__(self): print("I")
    def __del__(self): print("D")
  ```

  **–í—ã–≤–æ–¥:**
  ```py
  >>> WTF() is WTF()
  I
  I
  D
  D
  False
  >>> id(WTF()) == id(WTF())
  I
  D
  I
  D
  True
  ```
  –ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å, –ø–æ—Ä—è–¥–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã, –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.

---

### ‚ñ∂ –ù–∞—Ä—É—à–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø–æ—Ä—è–¥–∫–∞ *
<!-- Example ID: 91bff1f8-541d-455a-9de4-6cd8ff00ea66 --->
```py
from collections import OrderedDict

dictionary = dict()
dictionary[1] = 'a'; dictionary[2] = 'b';

ordered_dict = OrderedDict()
ordered_dict[1] = 'a'; ordered_dict[2] = 'b';

another_ordered_dict = OrderedDict()
another_ordered_dict[2] = 'b'; another_ordered_dict[1] = 'a';

class DictWithHash(dict):
    """
    A dict that also implements __hash__ magic.
    """
    __hash__ = lambda self: 0

class OrderedDictWithHash(OrderedDict):
    """
    An OrderedDict that also implements __hash__ magic.
    """
    __hash__ = lambda self: 0
```

**–í—ã–≤–æ–¥**
```py
>>> dictionary == ordered_dict # If a == b
True
>>> dictionary == another_ordered_dict # and b == c
True
>>> ordered_dict == another_ordered_dict # then why isn't c == a ??
False

# –ú—ã –≤—Å–µ –∑–Ω–∞–µ–º, —á—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤,
# –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Å–æ—Å—Ç–∞–≤–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑ —ç—Ç–∏—Ö —Å–ª–æ–≤–∞—Ä–µ–π –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è...

>>> len({dictionary, ordered_dict, another_ordered_dict})
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unhashable type: 'dict'

# –ò–º–µ–µ—Ç —Å–º—ã—Å–ª, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ —Å–ª–æ–≤–∞—Ä–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ __hash__, –Ω—É —á—Ç–æ–∂ –¥–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
# –Ω–∞—à–∏ –∫–ª–∞—Å—Å—ã-–æ–±–µ—Ä—Ç–∫–∏.
>>> dictionary = DictWithHash()
>>> dictionary[1] = 'a'; dictionary[2] = 'b';
>>> ordered_dict = OrderedDictWithHash()
>>> ordered_dict[1] = 'a'; ordered_dict[2] = 'b';
>>> another_ordered_dict = OrderedDictWithHash()
>>> another_ordered_dict[2] = 'b'; another_ordered_dict[1] = 'a';
>>> len({dictionary, ordered_dict, another_ordered_dict})
1
>>> len({ordered_dict, another_ordered_dict, dictionary}) # changing the order
2
```

–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- –ü—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É `dictionary`, `ordered_dict` –∏ `another_ordered_dict`, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `__eq__` –≤ –∫–ª–∞—Å—Å–µ `OrderedDict`. –ò–∑ [docs](https://docs.python.org/3/library/collections.html#ordereddict-objects)
  
    > –¢–µ—Å—Ç—ã —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ OrderedDict —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ –ø–æ—Ä—è–¥–∫—É –∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –∫–∞–∫ `list(od1.items())==list(od2.items())`. –¢–µ—Å—Ç—ã –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ `OrderedDict` –∏ –¥—Ä—É–≥–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ Mapping –Ω–µ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ –ø–æ—Ä—è–¥–∫—É, –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ–≤–∞—Ä–∏.
- –ü—Ä–∏—á–∏–Ω–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç—ã `OrderedDict` –≤–µ–∑–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å.
- –ò—Ç–∞–∫, –ø–æ—á–µ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–ª–∏–Ω—É –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `set`? –û—Ç–≤–µ—Ç –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞. –ü–æ—Å–∫–æ–ª—å–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —è–≤–ª—è—é—Ç—Å—è "–Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–º–∏" –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è. –ù–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ. –î–∞–≤–∞–π—Ç–µ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –≤ —ç—Ç–æ–º,
    ```py
    >>> some_set = set()
    >>> some_set.add(dictionary) # these are the mapping objects from the snippets above
    >>> ordered_dict in some_set
    True
    >>> some_set.add(ordered_dict)
    >>> len(some_set)
    1
    >>> another_ordered_dict in some_set
    True
    >>> some_set.add(another_ordered_dict)
    >>> len(some_set)
    1

    >>> another_set = set()
    >>> another_set.add(ordered_dict)
    >>> another_ordered_dict in another_set
    False
    >>> another_set.add(another_ordered_dict)
    >>> len(another_set)
    2
    >>> dictionary in another_set
    True
    >>> another_set.add(another_ordered_dict)
    >>> len(another_set)
    2
    ```
    –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ `another_ordered_dict –≤ another_set` —è–≤–ª—è–µ—Ç—Å—è `False`, –ø–æ—Ç–æ–º—É —á—Ç–æ `ordered_dict` —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤ `another_set` –∏, –∫–∞–∫ –±—ã–ª–æ –∑–∞–º–µ—á–µ–Ω–æ —Ä–∞–Ω–µ–µ, `ordered_dict == another_ordered_dict` —è–≤–ª—è–µ—Ç—Å—è `False`.

---

### ‚ñ∂ Keep trying... *
<!-- Example ID: b4349443-e89f-4d25-a109-82616be9d41a --->
```py
def some_func():
    try:
        return 'from_try'
    finally:
        return 'from_finally'

def another_func(): 
    for _ in range(3):
        try:
            continue
        finally:
            print("Finally!")

def one_more_func(): # A gotcha!
    try:
        for i in range(3):
            try:
                1 / i
            except ZeroDivisionError:
                # Let's throw it here and handle it outside for loop
                raise ZeroDivisionError("A trivial divide by zero error")
            finally:
                print("Iteration", i)
                break
    except ZeroDivisionError as e:
        print("Zero division error occurred", e)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> some_func()
'from_finally'

>>> another_func()
Finally!
Finally!
Finally!

>>> 1 / 0
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ZeroDivisionError: division by zero

>>> one_more_func()
Iteration 0

```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- –ö–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä `return`, `break` –∏–ª–∏ `continue` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –Ω–∞–±–æ—Ä–µ `try` –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ "try...finally", –Ω–∞ –≤—ã—Ö–æ–¥–µ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—É–Ω–∫—Ç `finally`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `return`. –ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ `finally` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –æ–ø–µ—Ä–∞—Ç–æ—Ä `return`, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ `finally`, –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–º.
- –û–≥–æ–≤–æ—Ä–∫–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ finally –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä `return` –∏–ª–∏ `break`, —Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è.

---


### ‚ñ∂ –î–ª—è —á–µ–≥–æ?
<!-- Example ID: 64a9dccf-5083-4bc9-98aa-8aeecde4f210 --->
```py
some_string = "wtf"
some_dict = {}
for i, some_dict[i] in enumerate(some_string):
    i = 10
```

**–í—ã–≤–æ–¥:**
```py
>>> some_dict # An indexed dict appears.
{0: 'w', 1: 't', 2: 'f'}
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* –û–ø–µ—Ä–∞—Ç–æ—Ä `for` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ [–≥—Ä–∞–º–º–∞—Ç–∏–∫–µ Python](https://docs.python.org/3/reference/grammar.html) –∫–∞–∫:
  ```
  for_stmt: 'for' exprlist 'in' testlist ':' suite ['else' ':' suite]
  ```
  –ì–¥–µ `exprlist` - —Ü–µ–ª—å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç `{exprlist} = {next_value}` **–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞** –≤ –∏—Ç–µ—Ä–∞–±–ª–µ.
  –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø—Ä–∏–º–µ—Ä, –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—â–∏–π —ç—Ç–æ:
  ```py
  for i in range(4):
      print(i)
      i = 10
  ```

  **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
  ```
  0
  1
  2
  3
  ```

  –û–∂–∏–¥–∞–ª–∏ –ª–∏ –≤—ã, —á—Ç–æ —Ü–∏–∫–ª –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑?

  **üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**.

  - –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è `i = 10` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞ –∏–∑-–∑–∞ —Ç–æ–≥–æ, –∫–∞–∫ —Ü–∏–∫–ª—ã for —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Python. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `range(4)`), —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ü–µ–ª–µ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `i`).

* –§—É–Ω–∫—Ü–∏—è `enumerate(some_string)` –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤—ã–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `i` (—Å—á–µ—Ç—á–∏–∫, –∏–¥—É—â–∏–π –≤–≤–µ—Ä—Ö) –∏ —Å–∏–º–≤–æ–ª –∏–∑ `some_string`. –ó–∞—Ç–µ–º –æ–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç (—Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–π) –∫–ª—é—á `i` —Å–ª–æ–≤–∞—Ä—è `some_dict` –Ω–∞ —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞ –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
  ```py
  >>> i, some_dict[i] = (0, 'w')
  >>> i, some_dict[i] = (1, 't')
  >>> i, some_dict[i] = (2, 'f')
  >>> some_dict
  ```

---

### ‚ñ∂ –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ü–µ–Ω–∫–∏
<!-- Example ID: 6aa11a4b-4cf1-467a-b43a-810731517e98 --->
1\.
```py
array = [1, 8, 15]
# A typical generator expression
gen = (x for x in array if array.count(x) > 0)
array = [2, 8, 22]
```

**–í—ã–≤–æ–¥:**

```py
>>> print(list(gen)) # Where did the other values go?
[8]
```

2\.

```py
array_1 = [1,2,3,4]
gen_1 = (x for x in array_1)
array_1 = [1,2,3,4,5]

array_2 = [1,2,3,4]
gen_2 = (x for x in array_2)
array_2[:] = [1,2,3,4,5]
```

**–í—ã–≤–æ–¥:**
```py
>>> print(list(gen_1))
[1, 2, 3, 4]

>>> print(list(gen_2))
[1, 2, 3, 4, 5]
```

3\.

```py
array_3 = [1, 2, 3]
array_4 = [10, 20, 30]
gen = (i + j for i in array_3 for j in array_4)

array_3 = [4, 5, 6]
array_4 = [400, 500, 600]
```

**–í—ã–≤–æ–¥:**
```py
>>> print(list(gen))
[401, 501, 601, 402, 502, 602, 403, 503, 603]
```

#### üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ

- –í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ [generator](https://wiki.python.org/moin/Generators) —É—Å–ª–æ–≤–∏–µ `in` –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –Ω–æ —É—Å–ª–æ–≤–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º `array` –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ø–∏—Å–æ–∫ `[2, 8, 22]`, –∞ –ø–æ—Å–∫–æ–ª—å–∫—É –∏–∑ `1`, `8` –∏ `15` —Ç–æ–ª—å–∫–æ —Å—á–µ—Ç—á–∏–∫ `8` –±–æ–ª—å—à–µ `0`, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—ã–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ `8`.
- –†–∞–∑–ª–∏—á–∏—è –≤ –≤—ã–≤–æ–¥–µ `g1` –∏ `g2` –≤–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ —Å–≤—è–∑–∞–Ω—ã —Å —Ç–µ–º, –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º `array_1` –∏ `array_2` –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.
- –í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ `array_1` –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –Ω–æ–≤–æ–º—É –æ–±—ä–µ–∫—Ç—É `[1,2,3,4,5]`, –∞ –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ `in` –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –æ–Ω–æ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç `[1,2,3,4]` (–∫–æ—Ç–æ—Ä—ã–π –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è).
- –í–æ –≤—Ç–æ—Ä–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Å—Ä–µ–∑–∞ `array_2` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ—Ç –∂–µ —Å—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç `[1,2,3,4]` –¥–æ `[1,2,3,4,5]`. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∏ `g2`, –∏ `array_2` –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–º–µ—é—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç (–∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ `[1,2,3,4,5]`).
- –•–æ—Ä–æ—à–æ, —Å–ª–µ–¥—É—è –ª–æ–≥–∏–∫–µ, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–π –¥–æ —Å–∏—Ö –ø–æ—Ä, –Ω–µ –¥–æ–ª–∂–Ω–æ –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `list(gen)` –≤ —Ç—Ä–µ—Ç—å–µ–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ –±—ã—Ç—å `[11, 21, 31, 12, 22, 32, 13, 23, 33]`? (–ø–æ—Ç–æ–º—É —á—Ç–æ `array_3` –∏ `array_4` –±—É–¥—É—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ `array_1`). –ü—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π (—Ç–æ–ª—å–∫–æ) –∑–Ω–∞—á–µ–Ω–∏—è `array_4` –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è, –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è –≤ [PEP-289](https://www.python.org/dev/peps/pep-0289/#the-details)
  
    > –¢–æ–ª—å–∫–æ –∫—Ä–∞–π–Ω–µ–µ for-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥–æ –∑–∞–ø—É—Å–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞.

---


### ‚ñ∂ `is not ...` is not `is (not ...)`
<!-- Example ID: b26fb1ed-0c7d-4b9c-8c6d-94a58a055c0d --->
```py
>>> 'something' is not None
True
>>> 'something' is (not None)
False
```

#### üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ

- `is not` —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–º –±–∏–Ω–∞—Ä–Ω—ã–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º, –∏ –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ä–∞–∑–¥–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `is` –∏ `not`.
- `is not` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `False`, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç, –∏ `True` –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ. 
- –í –ø—Ä–∏–º–µ—Ä–µ `(not None)` –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ `True`, –ø–æ—Å–∫–æ–ª—å–∫—É –∑–Ω–∞—á–µ–Ω–∏–µ `None` —è–≤–ª—è–µ—Ç—Å—è `False` –≤ –±—É–ª–µ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –ø–æ—ç—Ç–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `'something' is True`.

---

### ‚ñ∂ –ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏, –≥–¥–µ X –ø–æ–±–µ–∂–¥–∞–µ—Ç —Å –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏!
<!-- Example ID: 69329249-bdcb-424f-bd09-cca2e6705a7a --->

```py
# Let's initialize a row
row = [""] * 3 #row i['', '', '']
# Let's make a board
board = [row] * 3
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> board
[['', '', ''], ['', '', ''], ['', '', '']]
>>> board[0]
['', '', '']
>>> board[0][0]
''
>>> board[0][0] = "X"
>>> board
[['X', '', ''], ['X', '', ''], ['X', '', '']]
```

–ú—ã –∂–µ –Ω–µ –Ω–∞–∑–Ω–∞—á–∏–ª–∏ —Ç—Ä–∏ ``–•``?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

–ö–æ–≥–¥–∞ –º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `row`, —ç—Ç–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä—è—Å–Ω—è–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø–∞–º—è—Ç–∏

![image](../images/tic-tac-toe/after_row_initialized.png)

–ê –∫–æ–≥–¥–∞ `board` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—É—Ç–µ–º —É–º–Ω–æ–∂–µ–Ω–∏—è `row`, –≤–æ—Ç —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø–∞–º—è—Ç–∏ (–∫–∞–∂–¥—ã–π –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `board[0]`, `board[1]` –∏ `board[2]` —è–≤–ª—è–µ—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ç–æ—Ç –∂–µ —Å–ø–∏—Å–æ–∫, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è `row`)

![image](../images/tic-tac-toe/after_board_initialized.png)

–ú—ã –º–æ–∂–µ–º –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `row` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `board`. (–í–æ–ø—Ä–æ—Å –∑–∞–¥–∞–Ω –≤ [—ç—Ç–æ–º](https://github.com/satwikkansal/wtfpython/issues/68) –≤—ã–ø—É—Å–∫–µ).

```py
>>> board = [['']*3 for _ in range(3)]
>>> board[0][0] = "X"
>>> board
[['X', '', ''], ['', '', ''], ['', '', '']]
```

---

### ‚ñ∂ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –®—Ä–µ–¥–∏–Ω–≥–µ—Ä–∞ *
<!-- Example ID: 4dc42f77-94cb-4eb5-a120-8203d3ed7604 --->


```py
funcs = []
results = []
for x in range(7):
    def some_func():
        return x
    funcs.append(some_func)
    results.append(some_func())  # note the function call here

funcs_results = [func() for func in funcs]
```

**–í—ã–≤–æ–¥ (Python version):**
```py
>>> results
[0, 1, 2, 3, 4, 5, 6]
>>> funcs_results
[6, 6, 6, 6, 6, 6, 6]
```

–ó–Ω–∞—á–µ–Ω–∏—è `x` –±—ã–ª–∏ —Ä–∞–∑–Ω—ã–º–∏ –≤ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `some_func` –∫ `funcs`, –Ω–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 6, –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ü–∏–∫–ª–∞.

2.

```py
>>> powers_of_x = [lambda x: x**i for i in range(10)]
>>> [f(2) for f in powers_of_x]
[512, 512, 512, 512, 512, 512, 512, 512, 512, 512]
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
* –ü—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ü–∏–∫–ª–∞ –≤ —Å–≤–æ–µ–º —Ç–µ–ª–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ü–∏–∫–ª–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ *–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π*, –∞ –Ω–µ –∫ –µ–µ *–∑–Ω–∞—á–µ–Ω–∏—é*. –§—É–Ω–∫—Ü–∏—è –∏—â–µ—Ç `x` –≤ –æ–∫—Ä—É–∂–∞—é—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `x` –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –ú—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `x` –∏–∑ –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—Ç.–µ. *–Ω–µ* –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è):
```py
>>> import inspect
>>> inspect.getclosurevars(funcs[0])
ClosureVars(nonlocals={}, globals={'x': 6}, builtins={}, unbound=set())
```
Since `x` is a global value, we can change the value that the `funcs` will lookup and return by updating `x`:

```py
>>> x = 42
>>> [func() for func in funcs]
[42, 42, 42, 42, 42, 42, 42]
```

* –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∂–µ–ª–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ü–∏–∫–ª–∞ –∫–∞–∫ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ —Ñ—É–Ω–∫—Ü–∏—é. **–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?** –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é *–≤–Ω—É—Ç—Ä–∏* –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –û–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –æ–∫—Ä—É–∂–∞—é—â–µ–π (–≥–ª–æ–±–∞–ª—å–Ω–æ–π) –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∞ —Å–æ–∑–¥–∞—Å—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `x` –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

```py
funcs = []
for x in range(7):
    def some_func(x=x):
        return x
    funcs.append(some_func)
```

**–í—ã–≤–æ–¥:**

```py
>>> funcs_results = [func() for func in funcs]
>>> funcs_results
[0, 1, 2, 3, 4, 5, 6]
```

`x` –±–æ–ª—å—à–µ –Ω–µ –∏ —Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

```py
>>> inspect.getclosurevars(funcs[0])
ClosureVars(nonlocals={}, globals={}, builtins={}, unbound=set())
```

---

### ‚ñ∂ –ü—Ä–æ–±–ª–µ–º–∞ –∫—É—Ä–∏—Ü—ã –∏ —è–π—Ü–∞ *
<!-- Example ID: 60730dc2-0d79-4416-8568-2a63323b3ce8 --->
1\.
```py
>>> isinstance(3, int)
True
>>> isinstance(type, object)
True
>>> isinstance(object, type)
True
```

–¢–∞–∫ –∫–∞–∫–æ–π –∂–µ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è "–æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–º"? –ö—Å—Ç–∞—Ç–∏, —ç—Ç–æ –µ—â–µ –Ω–µ –≤—Å–µ,

2\. 

```py
>>> class A: pass
>>> isinstance(A, A)
False
>>> isinstance(type, type)
True
>>> isinstance(object, object)
True
```

3\.

```py
>>> issubclass(int, object)
True
>>> issubclass(type, object)
True
>>> issubclass(object, type)
False
```


#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

- `—Ç–∏–ø` - —ç—Ç–æ [–º–µ—Ç–∞–∫–ª–∞—Å—Å](https://realpython.com/python-metaclasses/) –≤ Python.
- **–í—Å–µ** –≤ Python —è–≤–ª—è–µ—Ç—Å—è `–æ–±—ä–µ–∫—Ç–æ–º`, —á—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∫–∞–∫ –∫–ª–∞—Å—Å—ã, —Ç–∞–∫ –∏ –∏—Ö –æ–±—ä–µ–∫—Ç—ã (—ç–∫–∑–µ–º–ø–ª—è—Ä—ã).
- –ö–ª–∞—Å—Å `type` —è–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–º –∫–ª–∞—Å—Å–∞ `object`, –∏ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å (–≤–∫–ª—é—á–∞—è `type`) –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø—Ä—è–º–æ –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω–æ –æ—Ç `object`.
- –ú–µ–∂–¥—É `object` –∏ `type` –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞. –ü—É—Ç–∞–Ω–∏—Ü–∞ –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤—ã—à–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –º—ã –¥—É–º–∞–µ–º –æ–± —ç—Ç–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö (`issubclass` –∏ `isinstance`) –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö –∫–ª–∞—Å—Å–æ–≤ Python. –û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É `object` –∏ `type` –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω—ã –≤ —á–∏—Å—Ç–æ–º Python. –¢–æ—á–Ω–µ–µ –≥–æ–≤–æ—Ä—è, —Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω—ã –≤ —á–∏—Å—Ç–æ–º Python,
    + –∫–ª–∞—Å—Å A —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–ª–∞—Å—Å–∞ B, –∞ –∫–ª–∞—Å—Å B —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–ª–∞—Å—Å–∞ A.
    + –∫–ª–∞—Å—Å A —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º —Å–∞–º–æ–≥–æ —Å–µ–±—è.
- –≠—Ç–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É `object` –∏ `type` (–æ–±–∞ —è–≤–ª—è—é—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –∞ —Ç–∞–∫–∂–µ —Å–∞–º–∏—Ö —Å–µ–±—è) —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Python –∏–∑-–∑–∞ "–æ–±–º–∞–Ω–∞" –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

### ‚ñ∂ –û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ–¥–∫–ª–∞—Å—Å–∞–º–∏
<!-- Example ID: 9f6d8cf0-e1b5-42d0-84a0-4cfab25a0bc0 --->
**–í—ã–≤–æ–¥:**
```py
>>> from collections import Hashable
>>> issubclass(list, object)
True
>>> issubclass(object, Hashable)
True
>>> issubclass(list, Hashable)
False
```

–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–º–∏, –≤–µ—Ä–Ω–æ? (—Ç.–µ. –µ—Å–ª–∏ `A` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–º `B`, –∞ `B` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–º `C`, —Ç–æ `A` _–¥–æ–ª–∂–µ–Ω_ –±—ã—Ç—å –ø–æ–¥–∫–ª–∞—Å—Å–æ–º `C`)

#### üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ:

* –û—Ç–Ω–æ—à–µ–Ω–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —è–≤–ª—è—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–º–∏ –≤ Python. –õ—é–±–æ–π –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π, –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π `__subclasscheck__` –≤ –º–µ—Ç–∞–∫–ª–∞—Å—Å–µ.
* –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `issubclass(cls, Hashable)`, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∏—â–µ—Ç –Ω–µ-—Ñ–∞–ª—å—à–∏–≤—ã–π –º–µ—Ç–æ–¥ "`__hash__`" –≤ `cls` –∏–ª–∏ –≤–æ –≤—Å–µ–º, –æ—Ç —á–µ–≥–æ –æ–Ω –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è.
* –ü–æ—Å–∫–æ–ª—å–∫—É `object` —è–≤–ª—è–µ—Ç—Å—è —Ö—ç—à–∏—Ä—É–µ–º—ã–º, –∞ `list` - –Ω–µ—Ö—ç—à–∏—Ä—É–µ–º—ã–º, —ç—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç–∏.
* –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å] (https://www.naftaliharris.com/blog/python-subclass-intransitivity/).
---

### ‚ñ∂ Methods equality and identity
<!-- Example ID: 94802911-48fe-4242-defa-728ae893fa32 --->

1.
```py
class SomeClass:
    def method(self):
        pass

    @classmethod
    def classm(cls):
        pass

    @staticmethod
    def staticm():
        pass
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> print(SomeClass.method is SomeClass.method)
True
>>> print(SomeClass.classm is SomeClass.classm)
False
>>> print(SomeClass.classm == SomeClass.classm)
True
>>> print(SomeClass.staticm is SomeClass.staticm)
True
```

–û–±—Ä–∞—â–∞—è—Å—å –∫ `classm` –¥–≤–∞–∂–¥—ã, –º—ã –ø–æ–ª—É—á–∞–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –Ω–æ –Ω–µ *–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π*? –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
—Å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `SomeClass`:

2.
```py
o1 = SomeClass()
o2 = SomeClass()
```

**–í—ã–≤–æ–¥:**
```py
>>> print(o1.method == o2.method)
False
>>> print(o1.method == o1.method)
True
>>> print(o1.method is o1.method)
False
>>> print(o1.classm is o1.classm)
False
>>> print(o1.classm == o1.classm == o2.classm == SomeClass.classm)
True
>>> print(o1.staticm is o1.staticm is o2.staticm is SomeClass.staticm)
True
```

–î–≤–æ–π–Ω–æ–π –¥–æ—Å—Ç—É–ø –∫ `–∫–ª–∞—Å—Å—É` –∏–ª–∏ `–º–µ—Ç–æ–¥—É` —Å–æ–∑–¥–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ, –Ω–æ –Ω–µ *–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ* –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `–∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∫–ª–∞—Å—Å–∞`.

#### üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ.
* –§—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è [–¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏](https://docs.python.org/3/howto/descriptor.html). –í—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫–∞–∫ –∫
–∞—Ç—Ä–∏–±—É—Ç–∞, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä, —Å–æ–∑–¥–∞–≤–∞—è –æ–±—ä–µ–∫—Ç –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π "—Å–≤—è–∑—ã–≤–∞–µ—Ç" —Ñ—É–Ω–∫—Ü–∏—é —Å –æ–±—ä–µ–∫—Ç–æ–º, –≤–ª–∞–¥–µ—é—â–∏–º –∞—Ç—Ä–∏–±—É—Ç–æ–º.
–∞—Ç—Ä–∏–±—É—Ç–æ–º. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –Ω–µ—è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—è —Å–≤—è–∑–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
(–∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –º—ã –ø–æ–ª—É—á–∞–µ–º `self` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ–º –µ–≥–æ —è–≤–Ω–æ).
```py
>>> o1.method
<bound method SomeClass.method of <__main__.SomeClass object at ...>>
```
* –ü—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –∞—Ç—Ä–∏–±—É—Ç—É –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –º–µ—Ç–æ–¥–∞! –ü–æ—ç—Ç–æ–º—É `o1.method is o1.method` —è–≤–ª—è–µ—Ç—Å—è
–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–æ–π. –î–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –∫–∞–∫ –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º –∫–ª–∞—Å—Å–∞ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–∞) –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–æ–¥–æ–≤, –æ–¥–Ω–∞–∫–æ; –ø–æ—ç—Ç–æ–º—É
`SomeClass.method is SomeClass.method` —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º.
```py
>>> SomeClass.method
<function SomeClass.method at ...>
```
* `classmethod` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞. –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ - —ç—Ç–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–∏–º —Å–æ–∑–¥–∞—é—Ç
–æ–±—ä–µ–∫—Ç –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç *–∫–ª–∞—Å—Å* (—Ç–∏–ø) –æ–±—ä–µ–∫—Ç–∞, –∞ –Ω–µ —Å–∞–º –æ–±—ä–µ–∫—Ç.
```py
>>> o1.classm
<bound method SomeClass.classm of <class '__main__.SomeClass'>>
```
* –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π, `classmethod` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∏ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–µ–º—É –∫–∞–∫ –∫ –∞—Ç—Ä–∏–±—É—Ç—É –∫–ª–∞—Å—Å–∞ (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ–Ω–∏
–ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –∫–ª–∞—Å—Å—É, –∞ –Ω–µ –∫ –µ–≥–æ —Ç–∏–ø—É). –ü–æ—ç—Ç–æ–º—É `SomeClass.classm is SomeClass.classm` —è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–æ—á–Ω—ã–º.
```py
>>> SomeClass.classm
<bound method SomeClass.classm of <class '__main__.SomeClass'>>
```
* –û–±—ä–µ–∫—Ç –º–µ—Ç–æ–¥–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —Ä–∞–≤–Ω—ã–º, –µ—Å–ª–∏ –æ–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–≤–Ω—ã, –∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã. –ü–æ—ç—Ç–æ–º—É
`o1.method == o1.method` —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º, —Ö–æ—Ç—è –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –æ–±—ä–µ–∫—Ç–æ–º –≤ –ø–∞–º—è—Ç–∏.
* `staticmethod` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä "no-op", –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –µ—Å—Ç—å. –ù–∏–∫–∞–∫–æ–π –º–µ—Ç–æ–¥
–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `is` —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º.
```py
>>> o1.staticm
<function SomeClass.staticm at ...>
>>> SomeClass.staticm
<function SomeClass.staticm at ...>
```
* –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã "–º–µ—Ç–æ–¥" –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ Python –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã
–∫–∞–∂–¥—ã–π —Ä–∞–∑, —á—Ç–æ–±—ã –≤—Å—Ç–∞–≤–∏—Ç—å `self`, —Å–∏–ª—å–Ω–æ —Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
CPython 3.7 [—Ä–µ—à–∏–ª —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É](https://bugs.python.org/issue26110), –≤–≤–µ–¥—è –Ω–æ–≤—ã–µ –æ–ø–∫–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–æ–≤
–±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –º–µ—Ç–æ–¥–æ–≤. –≠—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞, —Ç–∞–∫ —á—Ç–æ
–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –∑–¥–µ—Å—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã –∏ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –º–µ—Ç–æ–¥—ã :)

### ‚ñ∂ All-true-ation *
<!-- Example ID: dfe6d845-e452-48fe-a2da-0ed3869a8042 -->

```py
>>> all([True, True, True])
True
>>> all([True, True, False])
False

>>> all([])
True
>>> all([[]])
False
>>> all([[[]]])
True
```

–ü–æ—á–µ–º—É —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ True-False?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ `all` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞

- ```py
  def all(iterable):
      for element in iterable:
          if not element:
              return False
      return True
  ```

- `all([])` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `True`, –ø–æ—Å–∫–æ–ª—å–∫—É –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç. 
- `all([[]])` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False`, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –∏–º–µ–µ—Ç –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç, `[]`, –∞ –≤ python –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∂–Ω—ã–º.
- `all([[[[]]])` –∏ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—Å–µ–≥–¥–∞ `True`. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ (`[[...]]`) —É–∂–µ –Ω–µ –ø—É—Å—Ç, –∞ —Å–ø–∏—Å–∫–∏ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —è–≤–ª—è—é—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º–∏.

---

### ‚ñ∂ –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –∑–∞–ø—è—Ç–∞—è
<!-- Example ID: 31a819c8-ed73-4dcc-84eb-91bedbb51e58 --->
**–í—ã–≤–æ–¥ (< 3.6):**

```py
>>> def f(x, y,):
...     print(x, y)
...
>>> def g(x=4, y=5,):
...     print(x, y)
...
>>> def h(x, **kwargs,):
  File "<stdin>", line 1
    def h(x, **kwargs,):
                     ^
SyntaxError: invalid syntax

>>> def h(*args,):
  File "<stdin>", line 1
    def h(*args,):
                ^
SyntaxError: invalid syntax
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- –ó–∞–ø—è—Ç–∞—è –≤ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ Python –Ω–µ –≤—Å–µ–≥–¥–∞ –∑–∞–∫–æ–Ω–Ω–∞.
- –í Python —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–æ —Å –ø–æ–º–æ—â—å—é –≤–µ–¥—É—â–∏—Ö –∑–∞–ø—è—Ç—ã—Ö, –∞ —á–∞—Å—Ç–∏—á–Ω–æ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Ö–æ–¥–Ω—ã—Ö –∑–∞–ø—è—Ç—ã—Ö. –≠—Ç–æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–∏—Ç—É–∞—Ü–∏—è–º, –∫–æ–≥–¥–∞ –∑–∞–ø—è—Ç–∞—è –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ, –∏ –Ω–∏ –æ–¥–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –µ–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç.
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–ø—è—Ç—ã–º–∏ –≤ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ [–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Python 3.6](https://bugs.python.org/issue9232). –ó–∞–º–µ—á–∞–Ω–∏—è –≤ [—ç—Ç–æ–º](https://bugs.python.org/issue9232#msg248399) —Å–æ–æ–±—â–µ–Ω–∏–∏ –∫—Ä–∞—Ç–∫–æ –æ–±—Å—É–∂–¥–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞–ø—è—Ç—ã—Ö –≤ Python.

---

### ‚ñ∂ –°—Ç—Ä–æ–∫–∏ –∏ –æ–±—Ä–∞—Ç–Ω—ã–µ —Å–ª—ç—à–∏
<!-- Example ID: 6ae622c3-6d99-4041-9b33-507bd1a4407b --->
**–í—ã–≤–æ–¥:**
```py
>>> print("\"")
"

>>> print(r"\"")
\"

>>> print(r"\")
File "<stdin>", line 1
    print(r"\")
              ^
SyntaxError: EOL while scanning string literal

>>> r'\'' == "\\'"
True
```

#### üí° –ü–æ—è—Å–Ω–µ–Ω–∏–µ

- –í –æ–±—ã—á–Ω–æ–π —Å—Ç—Ä–æ–∫–µ python –æ–±—Ä–∞—Ç–Ω–∞—è –∫–æ—Å–∞—è —á–µ—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω–∞—Ä–Ω–∞—è –∫–∞–≤—ã—á–∫–∞, –¥–≤–æ–π–Ω–∞—è –∫–∞–≤—ã—á–∫–∞ –∏ —Å–∞–º–∞ –æ–±—Ä–∞—Ç–Ω–∞—è –∫–æ—Å–∞—è —á–µ—Ä—Ç–∞).
    ```py
    >>> "wt\"f"
    'wt"f'
    ```
- –í –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º —Å—Ç—Ä–æ–∫–æ–≤–æ–º –ª–∏—Ç–µ—Ä–∞–ª–µ (–Ω–∞ —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å `r`) –æ–±—Ä–∞—Ç–Ω—ã–µ –∫–æ—Å—ã–µ —á–µ—Ä—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å, –≤–º–µ—Å—Ç–µ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞.
    ```py
    >>> r'wt\"f' == 'wt\\"f'
    True
    >>> print(repr(r'wt\"f')
    'wt\\"f'

    >>> print("\n")

    >>> print(r"\\n")
    '\\n'
    ```
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–≥–¥–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é –∫–æ—Å—É—é —á–µ—Ä—Ç—É –≤ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –æ–Ω –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –∑–∞ –Ω–µ–π –ø–æ—Å–ª–µ–¥—É–µ—Ç –¥—Ä—É–≥–æ–π —Å–∏–º–≤–æ–ª. –ê –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ (`print(r"\")`) –æ–±—Ä–∞—Ç–Ω–∞—è –∫–æ—Å–∞—è —á–µ—Ä—Ç–∞ –≤—ã—Ä–≤–∞–ª–∞—Å—å –∏–∑ –∫–æ–Ω—Ü–µ–≤–æ–π –∫–∞–≤—ã—á–∫–∏, –æ—Å—Ç–∞–≤–∏–≤ –ø–∞—Ä—Å–µ—Ä –±–µ–∑ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–π –∫–∞–≤—ã—á–∫–∏ (–æ—Ç—Å—é–¥–∞ `SyntaxError`). –í–æ—Ç –ø–æ—á–µ–º—É –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª–µ—à –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Ü–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

---

### ‚ñ∂ not knot!
<!-- Example ID: 7034deb1-7443-417d-94ee-29a800524de8 --->
```py
x = True
y = False
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> not x == y
True
>>> x == not y
  File "<input>", line 1
    x == not y
           ^
SyntaxError: invalid syntax
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* –°—Ç–∞—Ä—à–∏–Ω—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä `==` –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä `not` –≤ Python.
* –ü–æ—ç—Ç–æ–º—É `not x == y` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `not (x == y)`, —á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `not (True == False)`, –≤ –∏—Ç–æ–≥–µ –æ—Ü–µ–Ω–∏–≤–∞—é—â–µ–º—É—Å—è –≤ `True`.
* –ù–æ `x == not y` –≤—ã–∑—ã–≤–∞–µ—Ç `SyntaxError`, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–≥–æ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–º `(x == not) y`, –∞ –Ω–µ `x == (not y)`, —á—Ç–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –æ–∂–∏–¥–∞—Ç—å –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥.
* –ü–∞—Ä—Å–µ—Ä –æ–∂–∏–¥–∞–ª, —á—Ç–æ –ª–µ–∫—Å–µ–º–∞ `not` –±—É–¥–µ—Ç —á–∞—Å—Ç—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `not in` (–ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `==` –∏ `not in` –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç), –Ω–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω –Ω–µ —Å–º–æ–≥ –Ω–∞–π—Ç–∏ –ª–µ–∫—Å–µ–º—É `in`, —Å–ª–µ–¥—É—é—â—É—é –∑–∞ –ª–µ–∫—Å–µ–º–æ–π `not`, –æ–Ω –≤—ã–¥–∞–µ—Ç `SyntaxError`.

---

### ‚ñ∂ –ü–æ–ª–æ–≤–∏–Ω–∞ —Å—Ç—Ä–æ–∫ –≤ —Ç—Ä–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–∫–∞—Ö
<!-- Example ID: c55da3e2-1034-43b9-abeb-a7a970a2ad9e --->
**–í—ã–≤–æ–¥:**
```py
>>> print('wtfpython''')
wtfpython
>>> print("wtfpython""")
wtfpython
>>> # The following statements raise `SyntaxError`
>>> # print('''wtfpython')
>>> # print("""wtfpython")
  File "<input>", line 3
    print("""wtfpython")
                        ^
SyntaxError: EOF while scanning triple-quoted string literal
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ Python –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—è–≤–Ω—É—é [–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤](https://docs.python.org/3/reference/lexical_analysis.html#string-literal-concatenation), –ü—Ä–∏–º–µ—Ä,
  ```
  >>> print("wtf" "python")
  wtfpython
  >>> print("wtf" "") # or "wtf"""
  wtf
  ```
+ `'''` and `"""` —Ç–∞–∫–∂–µ —è–≤–ª—è—é—Ç—Å—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Å—Ç—Ä–æ–∫ –≤ Python, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç SyntaxError, –ø–æ—Å–∫–æ–ª—å–∫—É –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python –æ–∂–∏–¥–∞–ª –∑–∞–≤–µ—Ä—à–∞—é—â—É—é —Ç—Ä–æ–π–Ω—É—é –∫–∞–≤—ã—á–∫—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –≤—Å—Ç—Ä–µ—á–µ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ª–∏—Ç–µ—Ä–∞–ª–∞ —Å —Ç—Ä–æ–π–Ω–æ–π –∫–∞–≤—ã—á–∫–æ–π.
---

### ‚ñ∂ –ß—Ç–æ –Ω–µ —Ç–∞–∫ —Å –ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏?
<!-- Example ID: 0bba5fa7-9e6d-4cd2-8b94-952d061af5dd --->
1\.

```py
# A simple example to count the number of booleans and
# integers in an iterable of mixed data types.
mixed_list = [False, 1.0, "some_string", 3, True, [], False]
integers_found_so_far = 0
booleans_found_so_far = 0

for item in mixed_list:
    if isinstance(item, int):
        integers_found_so_far += 1
    elif isinstance(item, bool):
        booleans_found_so_far += 1
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> integers_found_so_far
4
>>> booleans_found_so_far
0
```


2\.
```py
>>> some_bool = True
>>> "wtf" * some_bool
'wtf'
>>> some_bool = False
>>> "wtf" * some_bool
''
```

3\.

```py
def tell_truth():
    True = False
    if True == False:
        print("I have lost faith in truth!")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (< 3.x):**

```py
>>> tell_truth()
I have lost faith in truth!
```



#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* `bool` —ç—Ç–æ –ø–æ–¥–∫–ª–∞—Å—Å –∫–ª–∞—Å—Å–∞ `int` –≤ Python
    
    ```py
    >>> issubclass(bool, int)
    True
    >>> issubclass(int, bool)
    False
    ```
    
* –ò `True` –∏ —Ç–∞–∫ –∂–µ `False` —ç—Ç–æ –∏–Ω—Å—Ç–∞–Ω—Å—ã –∫–ª–∞—Å—Å–∞ `int`
  ```py
  >>> isinstance(True, int)
  True
  >>> isinstance(False, int)
  True
  ```

* –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `True` —Ä–∞–≤–Ω–æ `1`, –∞ `False` —Ä–∞–≤–Ω–æ `0`.
  ```py
  >>> int(True)
  1
  >>> int(False)
  0
  ```

* –°–º–æ—Ç—Ä–∏ StackOverflow [answer](https://stackoverflow.com/a/8169049/4354153) —Ç–∞–º –µ—Å—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ.

* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤ Python –Ω–µ –±—ã–ª–æ —Ç–∏–ø–∞ `bool` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ 0 –¥–ª—è false –∏ –Ω–µ–Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 1 –¥–ª—è true).  –í –≤–µ—Ä—Å–∏—è—Ö 2.x –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã `True`, `False` –∏ —Ç–∏–ø `bool`, –Ω–æ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ `True` –∏ `False` –Ω–µ–ª—å–∑—è –±—ã–ª–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏. –û–Ω–∏ –ø—Ä–æ—Å—Ç–æ –±—ã–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏, –∏ –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å.

* Python 3 –±—ã–ª –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏, —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–ª–∏, –∏ –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å Python 3.x!

---

### ‚ñ∂ –ê—Ç—Ä–∏–±—É—Ç—ã –∫–ª–∞—Å—Å–∞ –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
<!-- Example ID: 6f332208-33bd-482d-8106-42863b739ed9 --->
1\.
```py
class A:
    x = 1

class B(A):
    pass

class C(A):
    pass
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> A.x, B.x, C.x
(1, 1, 1)
>>> B.x = 2
>>> A.x, B.x, C.x
(1, 2, 1)
>>> A.x = 3
>>> A.x, B.x, C.x # C.x changed, but B.x didn't
(3, 2, 3)
>>> a = A()
>>> a.x, A.x
(3, 3)
>>> a.x += 1
>>> a.x, A.x
(4, 3)
```

2\.
```py
class SomeClass:
    some_var = 15
    some_list = [5]
    another_list = [5]
    def __init__(self, x):
        self.some_var = x + 1
        self.some_list = self.some_list + [x]
        self.another_list += [x]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> some_obj = SomeClass(420)
>>> some_obj.some_list
[5, 420]
>>> some_obj.another_list
[5, 420]
>>> another_obj = SomeClass(111)
>>> another_obj.some_list
[5, 111]
>>> another_obj.another_list
[5, 420, 111]
>>> another_obj.another_list is SomeClass.another_list
True
>>> another_obj.another_list is some_obj.another_list
True
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ —Å–ª–æ–≤–∞—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞. –ï—Å–ª–∏ –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∞—Å—Å–∞, –æ–Ω–æ –∏—â–µ—Ç—Å—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–ª–∞—Å—Å–∞—Ö.
* –û–ø–µ—Ä–∞—Ç–æ—Ä += –∏–∑–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç –Ω–∞ –º–µ—Å—Ç–µ, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∏ –∞—Ç—Ä–∏–±—É—Ç –∫–ª–∞—Å—Å–∞ —Ç–∞–∫–∂–µ.
---

### ‚ñ∂ –í–æ–∑–≤—Ä–∞—Ç None –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (yielding None)
<!-- Example ID: 5a40c241-2c30-40d0-8ba9-cf7e097b3b53 --->
```py
some_iterable = ('a', 'b')

def some_func(val):
    return "something"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (<= 3.7.x):**

```py
>>> [x for x in some_iterable]
['a', 'b']
>>> [(yield x) for x in some_iterable]
<generator object <listcomp> at 0x7f70b0a4ad58>
>>> list([(yield x) for x in some_iterable])
['a', 'b']
>>> list((yield x) for x in some_iterable)
['a', None, 'b', None]
>>> list(some_func((yield x)) for x in some_iterable)
['a', 'something', 'b', 'something']
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- –≠—Ç–æ –±–∞–≥ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ yield –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö –∏ —Å–ø–∏—Å–æ—á–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö CPython.
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–¥–µ—Å—å: https://stackoverflow.com/questions/32139885/yield-in-list-comprehensions-and-generator-expressions
- –°–≤—è–∑–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–µ: https://bugs.python.org/issue10544
- –í Python 3.8+ yield –≤–Ω—É—Ç—Ä–∏ —Å–ø–∏—Å–æ—á–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –±–æ–ª—å—à–µ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –≤—ã–¥–∞–µ—Ç SyntaxError.

---


### ‚ñ∂ Yielding from... return! *
<!-- Example ID: 5626d8ef-8802-49c2-adbc-7cda5c550816 --->
1\.

```py
def some_func(x):
    if x == 3:
        return ["wtf"]
    else:
        yield from range(x)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (> 3.3):**

```py
>>> list(some_func(3))
[]
```

–ö—É–¥–∞ –∏—Å—á–µ–∑–ª–æ "wtf"? –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –∫–∞–∫–∏–º-—Ç–æ –æ—Å–æ–±—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º yield from? –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–æ. –¢–æ –∂–µ —Å–∞–º–æ–µ, —ç—Ç–æ —Ç–æ–∂–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ.

2\.

```py
def some_func(x):
    if x == 3:
        return ["wtf"]
    else:
        for i in range(x):
          yield i
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> list(some_func(3))
[]
```

–¢–æ –∂–µ —Å–∞–º–æ–µ, —ç—Ç–æ —Ç–æ–∂–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

+ –° Python 3.3 —Å—Ç–∞–ª–æ –≤–æ–∑–º–æ–∂–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä return –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è (—Å–º. PEP380). –í –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ

> "... return expr –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ StopIteration(expr) –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞."

+ –í —Å–ª—É—á–∞–µ some_func(3) StopIteration –≤–æ–∑–±—É–∂–¥–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∏–∑-–∑–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ return. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ StopIteration –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±–µ—Ä—Ç–∫–∏ list(...) –∏ —Ü–∏–∫–ª–∞ for. –ü–æ—ç—Ç–æ–º—É –¥–≤–∞ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –ø—É—Å—Ç–æ–º—É —Å–ø–∏—Å–∫—É.

+ –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å ["wtf"] –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ some_func, –Ω–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ StopIteration.

  ```py
  try:
      next(some_func(3))
  except StopIteration as e:
      some_string = e.value
  ```

  ```py
  >>> some_string
  ["wtf"]
  ```

---

### ‚ñ∂ Nan-reflexivity *

<!-- Example ID: 59bee91a-36e0-47a4-8c7d-aa89bf1d3976 --->

1\.

```py
a = float('inf')
b = float('nan')
c = float('-iNf')  # These strings are case-insensitive
d = float('nan')
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> a
inf
>>> b
nan
>>> c
-inf
>>> float('some_other_string')
ValueError: could not convert string to float: some_other_string
>>> a == -c # inf==inf
True
>>> None == None # None == None
True
>>> b == d # but nan!=nan
False
>>> 50 / a
0.0
>>> a / a
nan
>>> 23 + b
nan
```

2\.

```py
>>> x = float('nan')
>>> y = x / x
>>> y is y # identity holds
True
>>> y == y # equality fails of y
False
>>> [y] == [y] # but the equality succeeds for the list containing y
True
```



#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- `'inf'` –∏ `'nan'` - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (–±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏ —è–≤–Ω–æ–º –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ –∫ —Ç–∏–ø—É float –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π "–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏" –∏ "–Ω–µ —á–∏—Å–ª–æ" —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

- –ü–æ—Å–∫–æ–ª—å–∫—É —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º IEEE `NaN! = NaN`, —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ Python, —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ x —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ç–∞–∫–æ–π –∫–∞–∫ `list`, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–∏, —á—Ç–æ `x == x`. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (—Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ),
  –∫–æ–≥–¥–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤. –°–ª–µ–¥—É—é—â–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Å–¥–µ–ª–∞–µ—Ç –≤–µ—â–∏ –±–æ–ª–µ–µ —è—Å–Ω—ã–º–∏:

  ```py
  >>> x = float('nan')
  >>> x == x, [x] == [x]
  (False, True)
  >>> y = float('nan')
  >>> y == y, [y] == [y]
  (False, True)
  >>> x == y, [x] == [y]
  (False, False)
  ```

  –ü–æ—Å–∫–æ–ª—å–∫—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã `x` –∏ `y` —Ä–∞–∑–Ω—ã–µ, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫–∂–µ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è; —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `False`.

- –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ: [–†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–æ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –æ—Å–Ω–æ–≤—ã —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–∏](https://bertrandmeyer.com/2010/02/06/reflexivity-and-other-pillars-of-civilization/)

---

### ‚ñ∂ –ú—É—Ç–∏—Ä—É–µ–º –Ω–µ–º—É—Ç–∏—Ä—É–µ–º–æ–µ!

<!-- Example ID: 15a9e782-1695-43ea-817a-a9208f6bb33d --->

–≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–º, –µ—Å–ª–∏ –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Å—ã–ª–∫–∏ –≤ Python. –ù–æ –µ—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ, —Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ.

```py
some_tuple = ("A", "tuple", "with", "values")
another_tuple = ([1, 2], [3, 4], [5, 6])
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> some_tuple[2] = "change this"
TypeError: 'tuple' object does not support item assignment
>>> another_tuple[2].append(1000) #This throws no error
>>> another_tuple
([1, 2], [3, 4], [5, 6, 1000])
>>> another_tuple[2] += [99, 999]
TypeError: 'tuple' object does not support item assignment
>>> another_tuple
([1, 2], [3, 4], [5, 6, 1000, 99, 999])
```

–ù–æ —è –¥—É–º–∞–ª, —á—Ç–æ –∫–æ—Ä—Ç–µ–∂–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã... –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* –¶–∏—Ç–∞—Ç–∞ –∏–∑ https://docs.python.org/3/reference/datamodel.html

    > –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
      –û–±—ä–µ–∫—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ —Ç–∏–ø–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. (–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã, —ç—Ç–∏ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã; –æ–¥–Ω–∞–∫–æ –Ω–∞–±–æ—Ä –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è.)

* –û–ø–µ—Ä–∞—Ç–æ—Ä `+=` –∏–∑–º–µ–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞ –º–µ—Å—Ç–µ. –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∫–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —ç–ª–µ–º–µ–Ω—Ç —É–∂–µ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –º–µ—Å—Ç–µ.
* –¢–∞–∫–∂–µ –µ—Å—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º [Python FAQ](https://docs.python.org/3/faq/programming.html#why-does-a-tuple-i-item-raise-an-exception-when-the-addition-works).

---

### ‚ñ∂ –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
<!-- Example ID: 7f1e71b6-cb3e-44fb-aa47-87ef1b7decc8 --->

```py
e = 7
try:
    raise Exception()
except Exception as e:
    pass
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**
```py
>>> print(e)
# prints nothing
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
```py
>>> print(e)
NameError: name 'e' is not defined
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* Source: https://docs.python.org/3/reference/compound_stmts.html#except

  When an exception has been assigned using `as` target, it is cleared at the end of the `except` clause. This is as if

  ```py
  except E as N:
      foo
  ```

  was translated into

  ```py
  except E as N:
      try:
          foo
      finally:
          del N
  ```

  This means the exception must be assigned to a different name to be able to refer to it after the except clause. Exceptions are cleared because, with the traceback attached to them, they form a reference cycle with the stack frame, keeping all locals in that frame alive until the next garbage collection occurs.

* The clauses are not scoped in Python. Everything in the example is present in the same scope, and the variable `e` got removed due to the execution of the `except` clause. The same is not the case with functions that have their separate inner-scopes. The example below illustrates this:

     ```py
     def f(x):
         del(x)
         print(x)

     x = 5
     y = [5, 4, 3]
     ```

     **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
     ```py
     >>> f(x)
     UnboundLocalError: local variable 'x' referenced before assignment
     >>> f(y)
     UnboundLocalError: local variable 'x' referenced before assignment
     >>> x
     5
     >>> y
     [5, 4, 3]
     ```

* In Python 2.x, the variable name `e` gets assigned to `Exception()` instance, so when you try to print, it prints nothing.

    **–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**
    ```py
    >>> e
    Exception()
    >>> print e
    # Nothing is printed!
    ```

---


### ‚ñ∂ The mysterious key type conversion
<!-- Example ID: 00f42dd0-b9ef-408d-9e39-1bc209ce3f36 --->
```py
class SomeClass(str):
    pass

some_dict = {'s': 42}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> type(list(some_dict.keys())[0])
str
>>> s = SomeClass('s')
>>> some_dict[s] = 40
>>> some_dict # expected: Two different keys-value pairs
{'s': 40}
>>> type(list(some_dict.keys())[0])
str
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* Both the object `s` and the string `"s"` hash to the same value because `SomeClass` inherits the `__hash__` method of `str` class.
* `SomeClass("s") == "s"` evaluates to `True` because `SomeClass` also inherits `__eq__` method from `str` class.
* Since both the objects hash to the same value and are equal, they are represented by the same key in the dictionary.
* For the desired behavior, we can redefine the `__eq__` method in `SomeClass`
  ```py
  class SomeClass(str):
    def __eq__(self, other):
        return (
            type(self) is SomeClass
            and type(other) is SomeClass
            and super().__eq__(other)
        )

    # When we define a custom __eq__, Python stops automatically inheriting the
    # __hash__ method, so we need to define it as well
    __hash__ = str.__hash__

  some_dict = {'s':42}
  ```

  **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
  ```py
  >>> s = SomeClass('s')
  >>> some_dict[s] = 40
  >>> some_dict
  {'s': 40, 's': 42}
  >>> keys = list(some_dict.keys())
  >>> type(keys[0]), type(keys[1])
  (__main__.SomeClass, str)
  ```

---

### ‚ñ∂ –ü–æ—Å–º–æ—Ç—Ä–∏–º, —Å–º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —É–≥–∞–¥–∞—Ç—å —á—Ç–æ –∑–¥–µ—Å—å?
<!-- Example ID: 81aa9fbe-bd63-4283-b56d-6fdd14c9105e --->
```py
a, b = a[b] = {}, 5
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> a
{5: ({...}, 5)}
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* According to [Python language reference](https://docs.python.org/3/reference/simple_stmts.html#assignment-statements), assignment statements have the form
  ```
  (target_list "=")+ (expression_list | yield_expression)
  ```
  and
  
> An assignment statement evaluates the expression list (remember that this can be a single expression or a comma-separated list, the latter yielding a tuple) and assigns the single resulting object to each of the target lists, from left to right.

* The `+` in `(target_list "=")+` means there can be **one or more** target lists. In this case, target lists are `a, b` and `a[b]` (note the expression list is exactly one, which in our case is `{}, 5`).

* After the expression list is evaluated, its value is unpacked to the target lists from **left to right**. So, in our case, first the `{}, 5` tuple is unpacked to `a, b` and we now have `a = {}` and `b = 5`.

* `a` is now assigned to `{}`, which is a mutable object.

* The second target list is `a[b]` (you may expect this to throw an error because both `a` and `b` have not been defined in the statements before. But remember, we just assigned `a` to `{}` and `b` to `5`).

* Now, we are setting the key `5` in the dictionary to the tuple `({}, 5)` creating a circular reference (the `{...}` in the output refers to the same object that `a` is already referencing). Another simpler example of circular reference could be
  ```py
  >>> some_list = some_list[0] = [0]
  >>> some_list
  [[...]]
  >>> some_list[0]
  [[...]]
  >>> some_list is some_list[0]
  True
  >>> some_list[0][0][0][0][0][0] == some_list
  True
  ```
  Similar is the case in our example (`a[b][0]` is the same object as `a`)

* So to sum it up, you can break the example down to
  ```py
  a, b = {}, 5
  a[b] = a, b
  ```
  And the circular reference can be justified by the fact that `a[b][0]` is the same object as `a`
  ```py
  >>> a[b][0] is a
  True
  ```

### ‚ñ∂ Exceeds the limit for integer string conversion
```py
>>> # Python 3.10.6
>>> int("2" * 5432)
>>> # Python 3.10.8
>>> int("2" * 5432)
```
**–í—ã–≤–æ–¥:**
```py
>>> # Python 3.10.6
222222222222222222222222222222222222222222222222222222222222222...
>>> # Python 3.10.8 and Python 3.11
Traceback (most recent call last):
   ...
ValueError: Exceeds the limit (4300) for integer string conversion:
   value has 5432 digits; use sys.set_int_max_str_digits()
   to increase the limit.
```
#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
–≠—Ç–æ—Ç –≤—ã–∑–æ–≤ `int()` –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Python 3.10.6 –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É ValueError –≤ Python 3.10.8, 3.11. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ Python –≤—Å–µ –µ—â–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏. –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –º–µ–∂–¥—É —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –∏ —Å—Ç—Ä–æ–∫–∞–º–∏.
–ö —Å—á–∞—Å—Ç—å—é, –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–µ–¥–µ–ª –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ü–∏—Ñ—Ä, –µ—Å–ª–∏ –æ–∂–∏–¥–∞–µ—Ç–µ, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—ã—Å–∏—Ç –µ–≥–æ. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø–æ—Å–æ–±–æ–≤:
- -X int_max_str_digits command-line flag
- set_int_max_str_digits() function from the sys module
- PYTHONINTMAXSTRDIGITS environment variable

[–°–º–æ—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://docs.python.org/3/library/stdtypes.html#int-max-str-digits) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ, —á—Ç–æ –≤–∞—à –∫–æ–¥ –ø—Ä–µ–≤—ã—Å–∏—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

## Section: Slippery Slopes

### ‚ñ∂ Modifying a dictionary while iterating over it
<!-- Example ID: b4e5cdfb-c3a8-4112-bd38-e2356d801c41 --->
```py
x = {0: None}

for i in x:
    del x[i]
    x[i+1] = None
    print(i)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.7- Python 3.5):**

```
0
1
2
3
4
5
6
7
```

Yes, it runs for exactly **eight** times and stops.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* Iteration over a dictionary that you edit at the same time is not supported.
* It runs eight times because that's the point at which the dictionary resizes to hold more keys (we have eight deletion entries, so a resize is needed). This is actually an implementation detail.
* How deleted keys are handled and when the resize occurs might be different for different Python implementations.
* So for Python versions other than Python 2.7 - Python 3.5, the count might be different from 8 (but whatever the count is, it's going to be the same every time you run it). You can find some discussion around this [here](https://github.com/satwikkansal/wtfpython/issues/53) or in [this](https://stackoverflow.com/questions/44763802/bug-in-python-dict) StackOverflow thread.
* Python 3.7.6 onwards, you'll see `RuntimeError: dictionary keys changed during iteration` exception if you try to do this.

---

### ‚ñ∂ Stubborn `del` operation
<!-- Example ID: 777ed4fd-3a2d-466f-95e7-c4058e61d78e --->
<!-- read-only -->

```py
class SomeClass:
    def __del__(self):
        print("Deleted!")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
1\.
```py
>>> x = SomeClass()
>>> y = x
>>> del x # this should print "Deleted!"
>>> del y
Deleted!
```

Phew, deleted at last. You might have guessed what saved `__del__` from being called in our first attempt to delete `x`. Let's add more twists to the example.

2\.
```py
>>> x = SomeClass()
>>> y = x
>>> del x
>>> y # check if y exists
<__main__.SomeClass instance at 0x7f98a1a67fc8>
>>> del y # Like previously, this should print "Deleted!"
>>> globals() # oh, it didn't. Let's check all our global variables and confirm
Deleted!
{'__builtins__': <module '__builtin__' (built-in)>, 'SomeClass': <class __main__.SomeClass at 0x7f98a1a5f668>, '__package__': None, '__name__': '__main__', '__doc__': None}
```

Okay, now it's deleted :confused:

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ `del x` doesn‚Äôt directly call `x.__del__()`.
+ When `del x` is encountered, Python deletes the name `x` from current scope and decrements by 1 the reference count of the object `x` referenced. `__del__()` is called only when the object's reference count reaches zero.
+ In the second output snippet, `__del__()` was not called because the previous statement (`>>> y`) in the interactive interpreter created another reference to the same object (specifically, the `_` magic variable which references the result value of the last non `None` expression on the REPL), thus preventing the reference count from reaching zero when `del y` was encountered.
+ Calling `globals` (or really, executing anything that will have a non `None` result) caused `_` to reference the new result, dropping the existing reference. Now the reference count reached 0 and we can see "Deleted!" being printed (finally!).

---

### ‚ñ∂ The out of scope variable
<!-- Example ID: 75c03015-7be9-4289-9e22-4f5fdda056f7 --->

1\.
```py
a = 1
def some_func():
    return a

def another_func():
    a += 1
    return a
```

2\.
```py
def some_closure_func():
    a = 1
    def some_inner_func():
        return a
    return some_inner_func()

def another_closure_func():
    a = 1
    def another_inner_func():
        a += 1
        return a
    return another_inner_func()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> some_func()
1
>>> another_func()
UnboundLocalError: local variable 'a' referenced before assignment

>>> some_closure_func()
1
>>> another_closure_func()
UnboundLocalError: local variable 'a' referenced before assignment
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
* When you make an assignment to a variable in scope, it becomes local to that scope. So `a` becomes local to the scope of `another_func`, but it has not been initialized previously in the same scope, which throws an error.
* To modify the outer scope variable `a` in `another_func`, we have to use the `global` keyword.
  ```py
  def another_func()
      global a
      a += 1
      return a
  ```

  **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
  ```py
  >>> another_func()
  2
  ```
* In `another_closure_func`, `a` becomes local to the scope of `another_inner_func`, but it has not been initialized previously in the same scope, which is why it throws an error. 
* To modify the outer scope variable `a` in `another_inner_func`, use the `nonlocal` keyword. The nonlocal statement is used to refer to variables defined in the nearest outer (excluding the global) scope.
  ```py
  def another_func():
      a = 1
      def another_inner_func():
          nonlocal a
          a += 1
          return a
      return another_inner_func()
  ```

  **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
  ```py
  >>> another_func()
  2
  ```
* The keywords `global` and `nonlocal` tell the python interpreter to not declare new variables and look them up in the corresponding outer scopes.
* Read [this](https://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html) short but an awesome guide to learn more about how namespaces and scope resolution works in Python.

---

### ‚ñ∂ Deleting a list item while iterating
<!-- Example ID: 4cc52d4e-d42b-4e09-b25f-fbf5699b7d4e --->
```py
list_1 = [1, 2, 3, 4]
list_2 = [1, 2, 3, 4]
list_3 = [1, 2, 3, 4]
list_4 = [1, 2, 3, 4]

for idx, item in enumerate(list_1):
    del item

for idx, item in enumerate(list_2):
    list_2.remove(item)

for idx, item in enumerate(list_3[:]):
    list_3.remove(item)

for idx, item in enumerate(list_4):
    list_4.pop(idx)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> list_1
[1, 2, 3, 4]
>>> list_2
[2, 4]
>>> list_3
[]
>>> list_4
[2, 4]
```

Can you guess why the output is `[2, 4]`?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* It's never a good idea to change the object you're iterating over. The correct way to do so is to iterate over a copy of the object instead, and `list_3[:]` does just that.

     ```py
     >>> some_list = [1, 2, 3, 4]
     >>> id(some_list)
     139798789457608
     >>> id(some_list[:]) # Notice that python creates new object for sliced list.
     139798779601192
     ```

**Difference between `del`, `remove`, and `pop`:**
* `del var_name` just removes the binding of the `var_name` from the local or global namespace (That's why the `list_1` is unaffected).
* `remove` removes the first matching value, not a specific index, raises `ValueError` if the value is not found.
* `pop` removes the element at a specific index and returns it, raises `IndexError` if an invalid index is specified.

**Why the output is `[2, 4]`?**
- The list iteration is done index by index, and when we remove `1` from `list_2` or `list_4`, the contents of the lists are now `[2, 3, 4]`. The remaining elements are shifted down, i.e., `2` is at index 0, and `3` is at index 1. Since the next iteration is going to look at index 1 (which is the `3`), the `2` gets skipped entirely. A similar thing will happen with every alternate element in the list sequence.

* Refer to this StackOverflow [thread](https://stackoverflow.com/questions/45946228/what-happens-when-you-try-to-delete-a-list-element-while-iterating-over-it) explaining the example
* See also this nice StackOverflow [thread](https://stackoverflow.com/questions/45877614/how-to-change-all-the-dictionary-keys-in-a-for-loop-with-d-items) for a similar example related to dictionaries in Python.

---


### ‚ñ∂ Lossy zip of iterators *
<!-- Example ID: c28ed154-e59f-4070-8eb6-8967a4acac6d --->

```py
>>> numbers = list(range(7))
>>> numbers
[0, 1, 2, 3, 4, 5, 6]
>>> first_three, remaining = numbers[:3], numbers[3:]
>>> first_three, remaining
([0, 1, 2], [3, 4, 5, 6])
>>> numbers_iter = iter(numbers)
>>> list(zip(numbers_iter, first_three)) 
[(0, 0), (1, 1), (2, 2)]
# so far so good, let's zip the remaining
>>> list(zip(numbers_iter, remaining))
[(4, 3), (5, 4), (6, 5)]
```
Where did element `3` go from the `numbers` list?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- From Python [docs](https://docs.python.org/3.3/library/functions.html#zip), here's an approximate implementation of zip function,
    ```py
    def zip(*iterables):
        sentinel = object()
        iterators = [iter(it) for it in iterables]
        while iterators:
            result = []
            for it in iterators:
                elem = next(it, sentinel)
                if elem is sentinel: return
                result.append(elem)
            yield tuple(result)
    ```
- So the function takes in arbitrary number of iterable objects, adds each of their items to the `result` list by calling the `next` function on them, and stops whenever any of the iterable is exhausted. 
- The caveat here is when any iterable is exhausted, the existing elements in the `result` list are discarded. That's what happened with `3` in the `numbers_iter`.
- The correct way to do the above using `zip` would be,
    ```py
    >>> numbers = list(range(7))
    >>> numbers_iter = iter(numbers)
    >>> list(zip(first_three, numbers_iter))
    [(0, 0), (1, 1), (2, 2)]
    >>> list(zip(remaining, numbers_iter))
    [(3, 3), (4, 4), (5, 5), (6, 6)]
    ```
    The first argument of zip should be the one with fewest elements.

---

### ‚ñ∂ Loop variables leaking out!
<!-- Example ID: ccec7bf6-7679-4963-907a-1cd8587be9ea --->
1\.
```py
for x in range(7):
    if x == 6:
        print(x, ': for x inside loop')
print(x, ': x in global')
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
6 : for x inside loop
6 : x in global
```

But `x` was never defined outside the scope of for loop...

2\.
```py
# This time let's initialize x first
x = -1
for x in range(7):
    if x == 6:
        print(x, ': for x inside loop')
print(x, ': x in global')
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
6 : for x inside loop
6 : x in global
```

3\.

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**
```py
>>> x = 1
>>> print([x for x in range(5)])
[0, 1, 2, 3, 4]
>>> print(x)
4
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
```py
>>> x = 1
>>> print([x for x in range(5)])
[0, 1, 2, 3, 4]
>>> print(x)
1
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- In Python, for-loops use the scope they exist in and leave their defined loop-variable behind. This also applies if we explicitly defined the for-loop variable in the global namespace before. In this case, it will rebind the existing variable.

- The differences in the output of Python 2.x and Python 3.x interpreters for list comprehension example can be explained by following change documented in [What‚Äôs New In Python 3.0](https://docs.python.org/3/whatsnew/3.0.html) changelog:

    > "List comprehensions no longer support the syntactic form `[... for var in item1, item2, ...]`. Use `[... for var in (item1, item2, ...)]` instead. Also, note that list comprehensions have different semantics: they are closer to syntactic sugar for a generator expression inside a `list()` constructor, and in particular, the loop control variables are no longer leaked into the surrounding scope."

---

### ‚ñ∂ Beware of default mutable arguments!
<!-- Example ID: 7d42dade-e20d-4a7b-9ed7-16fb58505fe9 --->

```py
def some_func(default_arg=[]):
    default_arg.append("some_string")
    return default_arg
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> some_func()
['some_string']
>>> some_func()
['some_string', 'some_string']
>>> some_func([])
['some_string']
>>> some_func()
['some_string', 'some_string', 'some_string']
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- The default mutable arguments of functions in Python aren't really initialized every time you call the function. Instead, the recently assigned value to them is used as the default value. When we explicitly passed `[]` to `some_func` as the argument, the default value of the `default_arg` variable was not used, so the function returned as expected.

    ```py
    def some_func(default_arg=[]):
        default_arg.append("some_string")
        return default_arg
    ```

    **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
    ```py
    >>> some_func.__defaults__ #This will show the default argument values for the function
    ([],)
    >>> some_func()
    >>> some_func.__defaults__
    (['some_string'],)
    >>> some_func()
    >>> some_func.__defaults__
    (['some_string', 'some_string'],)
    >>> some_func([])
    >>> some_func.__defaults__
    (['some_string', 'some_string'],)
    ```

- A common practice to avoid bugs due to mutable arguments is to assign `None` as the default value and later check if any value is passed to the function corresponding to that argument. Example:

    ```py
    def some_func(default_arg=None):
        if default_arg is None:
            default_arg = []
        default_arg.append("some_string")
        return default_arg
    ```

---

### ‚ñ∂ Catching the Exceptions
<!-- Example ID: b5ca5e6a-47b9-4f69-9375-cda0f8c6755d --->
```py
some_list = [1, 2, 3]
try:
    # This should raise an ``IndexError``
    print(some_list[4])
except IndexError, ValueError:
    print("Caught!")

try:
    # This should raise a ``ValueError``
    some_list.remove(4)
except IndexError, ValueError:
    print("Caught again!")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**
```py
Caught!

ValueError: list.remove(x): x not in list
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
```py
  File "<input>", line 3
    except IndexError, ValueError:
                     ^
SyntaxError: invalid syntax
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

* To add multiple Exceptions to the except clause, you need to pass them as parenthesized tuple as the first argument. The second argument is an optional name, which when supplied will bind the Exception instance that has been raised. Example,
  ```py
  some_list = [1, 2, 3]
  try:
     # This should raise a ``ValueError``
     some_list.remove(4)
  except (IndexError, ValueError), e:
     print("Caught again!")
     print(e)
  ```
  **–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**
  ```
  Caught again!
  list.remove(x): x not in list
  ```
  **–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
  ```py
    File "<input>", line 4
      except (IndexError, ValueError), e:
                                       ^
  IndentationError: unindent does not match any outer indentation level
  ```

* Separating the exception from the variable with a comma is deprecated and does not work in Python 3; the correct way is to use `as`. Example,
  ```py
  some_list = [1, 2, 3]
  try:
      some_list.remove(4)

  except (IndexError, ValueError) as e:
      print("Caught again!")
      print(e)
  ```
  **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
  ```
  Caught again!
  list.remove(x): x not in list
  ```

---

### ‚ñ∂ Same operands, different story!
<!-- Example ID: ca052cdf-dd2d-4105-b936-65c28adc18a0 --->
1\.
```py
a = [1, 2, 3, 4]
b = a
a = a + [5, 6, 7, 8]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> a
[1, 2, 3, 4, 5, 6, 7, 8]
>>> b
[1, 2, 3, 4]
```

2\.
```py
a = [1, 2, 3, 4]
b = a
a += [5, 6, 7, 8]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> a
[1, 2, 3, 4, 5, 6, 7, 8]
>>> b
[1, 2, 3, 4, 5, 6, 7, 8]
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

*  `a += b` doesn't always behave the same way as `a = a + b`.  Classes *may* implement the *`op=`* operators differently, and lists do this.

* The expression `a = a + [5,6,7,8]` generates a new list and sets `a`'s reference to that new list, leaving `b` unchanged.

* The expression `a += [5,6,7,8]` is actually mapped to an "extend" function that operates on the list such that `a` and `b` still point to the same list that has been modified in-place.

---

### ‚ñ∂ Name resolution ignoring class scope
<!-- Example ID: 03f73d96-151c-4929-b0a8-f74430788324 --->
1\.
```py
x = 5
class SomeClass:
    x = 17
    y = (x for i in range(10))
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> list(SomeClass.y)[0]
5
```

2\.
```py
x = 5
class SomeClass:
    x = 17
    y = [x for i in range(10)]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**
```py
>>> SomeClass.y[0]
17
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
```py
>>> SomeClass.y[0]
5
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
- Scopes nested inside class definition ignore names bound at the class level.
- A generator expression has its own scope.
- Starting from Python 3.X, list comprehensions also have their own scope.

---

### ‚ñ∂ Rounding like a banker *

Let's implement a naive function to get the middle element of a list:
```py
def get_middle(some_list):
    mid_index = round(len(some_list) / 2)
    return some_list[mid_index - 1]
```

**Python 3.x:**
```py
>>> get_middle([1])  # looks good
1
>>> get_middle([1,2,3])  # looks good
2
>>> get_middle([1,2,3,4,5])  # huh?
2
>>> len([1,2,3,4,5]) / 2  # good
2.5
>>> round(len([1,2,3,4,5]) / 2)  # why?
2
```
It seems as though Python rounded 2.5 to 2.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- This is not a float precision error, in fact, this behavior is intentional. Since Python 3.0, `round()` uses [banker's rounding](https://en.wikipedia.org/wiki/Rounding#Round_half_to_even) where .5 fractions are rounded to the nearest **even** number:

```py
>>> round(0.5)
0
>>> round(1.5)
2
>>> round(2.5)
2
>>> import numpy  # numpy does the same
>>> numpy.round(0.5)
0.0
>>> numpy.round(1.5)
2.0
>>> numpy.round(2.5)
2.0
```

- This is the recommended way to round .5 fractions as described in [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754#Rounding_rules). However, the other way (round away from zero) is taught in school most of the time, so banker's rounding is likely not that well known. Furthermore, some of the most popular programming languages (for example: JavaScript, Java, C/C++, Ruby, Rust) do not use banker's rounding either. Therefore, this is still quite special to Python and may result in confusion when rounding fractions. 
- See the [round() docs](https://docs.python.org/3/library/functions.html#round) or [this stackoverflow thread](https://stackoverflow.com/questions/10825926/python-3-x-rounding-behavior) for more information.
- Note that `get_middle([1])` only returned 1 because the index was `round(0.5) - 1 = 0 - 1 = -1`, returning the last element in the list.

---

### ‚ñ∂ Needles in a Haystack *

<!-- Example ID: 52a199b1-989a-4b28-8910-dff562cebba9 --->

I haven't met even a single experience Pythonist till date who has not come across one or more of the following scenarios,

1\.

```py
x, y = (0, 1) if True else None, None
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> x, y  # expected (0, 1)
((0, 1), None)
```

2\.

```py
t = ('one', 'two')
for i in t:
    print(i)

t = ('one')
for i in t:
    print(i)

t = ()
print(t)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
one
two
o
n
e
tuple()
```

3\.

```
ten_words_list = [
    "some",
    "very",
    "big",
    "list",
    "that"
    "consists",
    "of",
    "exactly",
    "ten",
    "words"
]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**

```py
>>> len(ten_words_list)
9
```

4\. Not asserting strongly enough

```py
a = "python"
b = "javascript"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
# An assert statement with an assertion failure message.
>>> assert(a == b, "Both languages are different")
# No AssertionError is raised
```

5\.

```py
some_list = [1, 2, 3]
some_dict = {
  "key_1": 1,
  "key_2": 2,
  "key_3": 3
}

some_list = some_list.append(4) 
some_dict = some_dict.update({"key_4": 4})
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> print(some_list)
None
>>> print(some_dict)
None
```

6\.

```py
def some_recursive_func(a):
    if a[0] == 0:
        return
    a[0] -= 1
    some_recursive_func(a)
    return a

def similar_recursive_func(a):
    if a == 0:
        return a
    a -= 1
    similar_recursive_func(a)
    return a
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
>>> some_recursive_func([5, 0])
[0, 0]
>>> similar_recursive_func(5)
4
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* For 1, the correct statement for expected behavior is `x, y = (0, 1) if True else (None, None)`.

* For 2, the correct statement for expected behavior is `t = ('one',)` or `t = 'one',` (missing comma) otherwise the interpreter considers `t` to be a `str` and iterates over it character by character.

* `()` is a special token and denotes empty `tuple`.

* In 3, as you might have already figured out, there's a missing comma after 5th element (`"that"`) in the list. So by implicit string literal concatenation,

  ```py
  >>> ten_words_list
  ['some', 'very', 'big', 'list', 'thatconsists', 'of', 'exactly', 'ten', 'words']
  ```

* No `AssertionError` was raised in 4th snippet because instead of asserting the individual expression `a == b`, we're asserting entire tuple. The following snippet will clear things up,

  ```py
  >>> a = "python"
  >>> b = "javascript"
  >>> assert a == b
  Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
  AssertionError
  
  >>> assert (a == b, "Values are not equal")
  <stdin>:1: SyntaxWarning: assertion is always true, perhaps remove parentheses?
  
  >>> assert a == b, "Values are not equal"
  Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
  AssertionError: Values are not equal
  ```

* As for the fifth snippet, most methods that modify the items of sequence/mapping objects like `list.append`, `dict.update`, `list.sort`, etc. modify the objects in-place and return `None`. The rationale behind this is to improve performance by avoiding making a copy of the object if the operation can be done in-place (Referred from [here](https://docs.python.org/3/faq/design.html#why-doesn-t-list-sort-return-the-sorted-list)).

* Last one should be fairly obvious, mutable object (like `list`) can be altered in the function, and the reassignment of an immutable (`a -= 1`) is not an alteration of the value.

* Being aware of these nitpicks can save you hours of debugging effort in the long run. 

---


### ‚ñ∂ Splitsies *
<!-- Example ID: ec3168ba-a81a-4482-afb0-691f1cc8d65a --->
```py
>>> 'a'.split()
['a']

# is same as
>>> 'a'.split(' ')
['a']

# but
>>> len(''.split())
0

# isn't the same as
>>> len(''.split(' '))
1
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- It might appear at first that the default separator for split is a single space `' '`, but as per the [docs](https://docs.python.org/3/library/stdtypes.html#str.split)
    >  If sep is not specified or is `None`, a different splitting algorithm is applied: runs of consecutive whitespace are regarded as a single separator, and the result will contain no empty strings at the start or end if the string has leading or trailing whitespace. Consequently, splitting an empty string or a string consisting of just whitespace with a None separator returns `[]`.
    > If sep is given, consecutive delimiters are not grouped together and are deemed to delimit empty strings (for example, `'1,,2'.split(',')` returns `['1', '', '2']`). Splitting an empty string with a specified separator returns `['']`.
- Noticing how the leading and trailing whitespaces are handled in the following snippet will make things clear,
    ```py
    >>> ' a '.split(' ')
    ['', 'a', '']
    >>> ' a '.split()
    ['a']
    >>> ''.split(' ')
    ['']
    ```

---

### ‚ñ∂ Wild imports *
<!-- Example ID: 83deb561-bd55-4461-bb5e-77dd7f411e1c --->
<!-- read-only -->

```py
# File: module.py

def some_weird_name_func_():
    print("works!")

def _another_weird_name_func():
    print("works!")

```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**

```py
>>> from module import *
>>> some_weird_name_func_()
"works!"
>>> _another_weird_name_func()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name '_another_weird_name_func' is not defined
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- It is often advisable to not use wildcard imports. The first obvious reason for this is, in wildcard imports, the names with a leading underscore don't get imported. This may lead to errors during runtime.
- Had we used `from ... import a, b, c` syntax, the above `NameError` wouldn't have occurred.
    ```py
    >>> from module import some_weird_name_func_, _another_weird_name_func
    >>> _another_weird_name_func()
    works!
    ```
- If you really want to use wildcard imports, then you'd have to define the list `__all__` in your module that will contain a list of public objects that'll be available when we do wildcard imports.
    ```py
    __all__ = ['_another_weird_name_func']

    def some_weird_name_func_():
        print("works!")

    def _another_weird_name_func():
        print("works!")
    ```
    **–†–µ–∑—É–ª—å—Ç–∞—Ç**

    ```py
    >>> _another_weird_name_func()
    "works!"
    >>> some_weird_name_func_()
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    NameError: name 'some_weird_name_func_' is not defined
    ```

---

### ‚ñ∂ All sorted? *

<!-- Example ID: e5ff1eaf-8823-4738-b4ce-b73f7c9d5511 -->

```py
>>> x = 7, 8, 9
>>> sorted(x) == x
False
>>> sorted(x) == sorted(x)
True

>>> y = reversed(x)
>>> sorted(y) == sorted(y)
False
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- The `sorted` method always returns a list, and comparing lists and tuples always returns `False` in Python. 

- ```py
  >>> [] == tuple()
  False
  >>> x = 7, 8, 9
  >>> type(x), type(sorted(x))
  (tuple, list)
  ```

- Unlike `sorted`, the `reversed` method returns an iterator. Why? Because sorting requires the iterator to be either modified in-place or use an extra container (a list), whereas reversing can simply work by iterating from the last index to the first.

- So during comparison `sorted(y) == sorted(y)`, the first call to `sorted()` will consume the iterator `y`, and the next call will just return an empty list.

  ```py
  >>> x = 7, 8, 9
  >>> y = reversed(x)
  >>> sorted(y), sorted(y)
  ([7, 8, 9], [])
  ```

---

### ‚ñ∂ Midnight time doesn't exist?
<!-- Example ID: 1bce8294-5619-4d70-8ce3-fe0bade690d1 --->
```py
from datetime import datetime

midnight = datetime(2018, 1, 1, 0, 0)
midnight_time = midnight.time()

noon = datetime(2018, 1, 1, 12, 0)
noon_time = noon.time()

if midnight_time:
    print("Time at midnight is", midnight_time)

if noon_time:
    print("Time at noon is", noon_time)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (< 3.5):**

```py
('Time at noon is', datetime.time(12, 0))
```
The midnight time is not printed.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

Before Python 3.5, the boolean value for `datetime.time` object was considered to be `False` if it represented midnight in UTC. It is error-prone when using the `if obj:` syntax to check if the `obj` is null or some equivalent of "empty."

---
---



## Section: The Hidden treasures!

This section contains a few lesser-known and interesting things about Python that most beginners like me are unaware of (well, not anymore).

### ‚ñ∂ Okay Python, Can you make me fly?
<!-- Example ID: a92f3645-1899-4d50-9721-0031be4aec3f --->
Well, here you go

```py
import antigravity
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
Sshh... It's a super-secret.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ `antigravity` module is one of the few easter eggs released by Python developers.
+ `import antigravity` opens up a web browser pointing to the [classic XKCD comic](https://xkcd.com/353/) about Python.
+ Well, there's more to it. There's **another easter egg inside the easter egg**. If you look at the [code](https://github.com/python/cpython/blob/master/Lib/antigravity.py#L7-L17), there's a function defined that purports to implement the [XKCD's geohashing algorithm](https://xkcd.com/426/).

---

### ‚ñ∂ `goto`, but why?
<!-- Example ID: 2aff961e-7fa5-4986-a18a-9e5894bd89fe --->

```py
from goto import goto, label
for i in range(9):
    for j in range(9):
        for k in range(9):
            print("I am trapped, please rescue!")
            if k == 2:
                goto .breakout # breaking out from a deeply nested loop
label .breakout
print("Freedom!")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.3):**
```py
I am trapped, please rescue!
I am trapped, please rescue!
Freedom!
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- A working version of `goto` in Python was [announced](https://mail.python.org/pipermail/python-announce-list/2004-April/002982.html) as an April Fool's joke on 1st April 2004.
- Current versions of Python do not have this module.
- Although it works, but please don't use it. Here's the [reason](https://docs.python.org/3/faq/design.html#why-is-there-no-goto) to why `goto` is not present in Python.

---

### ‚ñ∂ –î–µ—Ä–∂–∏—Ç–µ—Å—å!
<!-- Example ID: 5c0c75f2-ddd9-4da3-ba49-c4be7ec39acf --->
–ï—Å–ª–∏ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ —Ç–µ–º –ª—é–¥—è–º, –∫–æ—Ç–æ—Ä—ã–º –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ Python –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å C-—Å—Ç–∏–ª—å {} –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–≤ —ç—Ç–æ,

```py
from __future__ import braces
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
  File "some_file.py", line 1
    from __future__ import braces
SyntaxError: not a chance
```

–°–∫–æ–±–æ—á–∫–∏? –ù–∏ –∑–∞ —á—Ç–æ! –ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–∑–æ—á–∞—Ä–æ–≤—ã–≤–∞–ª–æ –≤–∞—Å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PHP :). –•–æ—Ä–æ—à–æ, –µ—â–µ –æ–¥–Ω–∞ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–∞—è –≤–µ—â—å, –º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫—É
`SyntaxError` –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–Ω–∞ –≤ –º–æ–¥—É–ª–µ `__future__` [code](https://github.com/python/cpython/blob/master/Lib/__future__.py)?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ The `__future__` module is normally used to provide features from future versions of Python. The "future" in this specific context is however, ironic.
+ This is an easter egg concerned with the community's feelings on this issue.
+ The code is actually present [here](https://github.com/python/cpython/blob/025eb98dc0c1dc27404df6c544fc2944e0fa9f3a/Python/future.c#L49) in `future.c` file.
+ When the CPython compiler encounters a [future statement](https://docs.python.org/3.3/reference/simple_stmts.html#future-statements), it first runs the appropriate code in `future.c` before treating it as a normal import statement.

---

### ‚ñ∂ –î–∞–≤–∞–π—Ç–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –î—è–¥–µ–π –ë–∞—Ä—Ä–∏
<!-- Example ID: 6427fae6-e959-462d-85da-ce4c94ce41be --->

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x)**
```py
>>> from __future__ import barry_as_FLUFL
>>> "Ruby" != "Python" # there's no doubt about it
  File "some_file.py", line 1
    "Ruby" != "Python"
              ^
SyntaxError: invalid syntax

>>> "Ruby" <> "Python"
True
```

–í–æ—Ç —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- –≠—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ [PEP-401](https://www.python.org/dev/peps/pep-0401/) released on April 1, 2009 (now you know, what it means).
- –¶–∏—Ç–∏—Ä—É—è –∏–∑ PEP-401
  
  > Recognized that the != inequality operator in Python 3.0 was a horrible, finger-pain inducing mistake, the FLUFL reinstates the <> diamond operator as the sole spelling.
  –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ != –≤ Python 3.0 –æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ–ª—å–Ω—ã–π (—Ö–æ—Ç—è –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö —ç—Ç–æ –≤–ø–æ–ª–Ω–µ –ø—Ä–∏–≤—ã—á–Ω–∞—è –∏ —É–∑–Ω–∞–≤–∞–µ–º–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è) –∏ –≤—ã–∑—ã–≤–∞–ª –±–æ–ª—å, FLUFL —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –≤ –≤–∏–¥–µ —Ä–æ–º–±–∞ <>.
- –£ –î—è–¥–∏ –ë–∞—Ä—Ä–∏ –±—ã–ª–æ –µ—â–µ –º–Ω–æ–≥–æ —á–µ–≥–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –≤ PEP; –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏—Ö [–∑–¥–µ—Å—å](https://www.python.org/dev/peps/pep-0401/).
- –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ, –Ω–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª python –≤—ã–∑—ã–≤–∞–µ—Ç `SyntaxError` (—Å–º–æ—Ç—Ä–∏ —ç—Ç–æ—Ç [–∏—à—å—é](https://github.com/satwikkansal/wtfpython/issues/94)). –û–¥–Ω–∞–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–µ—Ä–Ω—É—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–Ω—É—Ç—Ä–∏ `eval` –∏–ª–∏ `compile`, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ —Ä–∞–±–æ—Ç–∞—Ç—å (–Ω–æ –∑–∞—á–µ–º?)
    ```py
    from __future__ import barry_as_FLUFL
    print(eval('"Ruby" <> "Python"'))
    ```

---

### ‚ñ∂ –î–∞–∂–µ Python –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ª—é–±–æ–≤—å - —ç—Ç–æ —Å–ª–æ–∂–Ω–æ.
<!-- Example ID: b93cad9e-d341-45d1-999c-fcdce65bed25 --->
```py
import this
```

–ü–æ–¥–æ–∂–¥–∏—Ç–µ, —á—Ç–æ **—ç—Ç–æ** (this) —Ç–∞–∫–æ–µ? –≠—Ç–æ –ª—é–±–æ–≤—å! :heart:

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–î–∑–µ–Ω Python, –æ—Ç –¢–∏–º–∞ –ü–µ—Ç–µ—Ä—Å–∞

–ö—Ä–∞—Å–∏–≤–æ–µ –ª—É—á—à–µ, —á–µ–º —É—Ä–æ–¥–ª–∏–≤–æ–µ.
–Ø–≤–Ω–æ–µ –ª—É—á—à–µ, —á–µ–º –Ω–µ—è–≤–Ω–æ–µ.
–ü—Ä–æ—Å—Ç–æ–µ –ª—É—á—à–µ, —á–µ–º —Å–ª–æ–∂–Ω–æ–µ.
–°–ª–æ–∂–Ω–æ–µ –ª—É—á—à–µ, —á–µ–º –∑–∞–ø—É—Ç–∞–Ω–Ω–æ–µ.
–ü–ª–æ—Å–∫–æ–µ –ª—É—á—à–µ, —á–µ–º –≤–ª–æ–∂–µ–Ω–Ω–æ–µ.
–†–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ–µ –ª—É—á—à–µ, —á–µ–º –ø–ª–æ—Ç–Ω–æ–µ.
–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.
–û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏ –Ω–µ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –æ—Å–æ–±—ã–µ, —á—Ç–æ–±—ã –Ω–∞—Ä—É—à–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞.
–ü—Ä–∏ —ç—Ç–æ–º –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ –±–µ–∑—É–ø—Ä–µ—á–Ω–æ—Å—Ç–∏.
–û—à–∏–±–∫–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–º–∞–ª—á–∏–≤–∞—Ç—å—Å—è.
–ï—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∑–∞–º–∞–ª—á–∏–≤–∞—é—Ç—Å—è —è–≤–Ω–æ.
–í—Å—Ç—Ä–µ—Ç–∏–≤ –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å, –æ—Ç–±—Ä–æ—Å—å –∏—Å–∫—É—à–µ–Ω–∏–µ —É–≥–∞–¥–∞—Ç—å.
–î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ—á–µ–≤–∏–¥–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ.
–•–æ—Ç—è –æ–Ω –ø–æ–Ω–∞—á–∞–ª—É –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ –Ω–µ –æ—á–µ–≤–∏–¥–µ–Ω, –µ—Å–ª–∏ –≤—ã –Ω–µ –≥–æ–ª–ª–∞–Ω–¥–µ—Ü [^1].
–°–µ–π—á–∞—Å –ª—É—á—à–µ, —á–µ–º –Ω–∏–∫–æ–≥–¥–∞.
–•–æ—Ç—è –Ω–∏–∫–æ–≥–¥–∞ –∑–∞—á–∞—Å—Ç—É—é –ª—É—á—à–µ, —á–µ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
–ï—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–ª–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å ‚Äî –∏–¥–µ—è –ø–ª–æ—Ö–∞.
–ï—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ª–µ–≥–∫–æ –æ–±—ä—è—Å–Ω–∏—Ç—å ‚Äî –∏–¥–µ—è, –≤–æ–∑–º–æ–∂–Ω–æ, —Ö–æ—Ä–æ—à–∞.
–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è —à—Ç—É–∫–∞! –ë—É–¥–µ–º –¥–µ–ª–∞—Ç—å –∏—Ö –±–æ–ª—å—à–µ!
```

–≠—Ç–æ –î–∑–µ–Ω Python!

```py
>>> love = this
>>> this is love
True
>>> love is True
False
>>> love is False
False
>>> love is not True or False
True
>>> love is not True or False; love is love  # Love is complicated
True
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* `this` module in Python is an easter egg for The Zen Of Python ([PEP 20](https://www.python.org/dev/peps/pep-0020)).
* And if you think that's already interesting enough, check out the implementation of [this.py](https://hg.python.org/cpython/file/c3896275c0f6/Lib/this.py). Interestingly, **the code for the Zen violates itself** (and that's probably the only place where this happens).
* Regarding the statement `love is not True or False; love is love`, ironic but it's self-explanatory (if not, please see the examples related to `is` and `is not` operators).

* –ú–æ–¥—É–ª—å `this` –≤ Python - —ç—Ç–æ –ø–∞—Å—Ö–∞–ª—å–Ω–æ–µ —è–π—Ü–æ –¥–ª—è The Zen Of Python ([PEP 20](https://www.python.org/dev/peps/pep-0020)).
* –ò –µ—Å–ª–∏ –≤—ã –¥—É–º–∞–µ—Ç–µ, —á—Ç–æ —ç—Ç–æ —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é [this.py](https://hg.python.org/cpython/file/c3896275c0f6/Lib/this.py). –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ **–∫–æ–¥ –¥–ª—è –¥–∑–µ–Ω–∞ –Ω–∞—Ä—É—à–∞–µ—Ç —Å–∞–º —Å–µ–±—è** (–∏ —ç—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ—á–Ω–æ).
* –ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è `–ª—é–±–æ–≤—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–æ–π –∏–ª–∏ –ª–æ–∂—å—é; –ª—é–±–æ–≤—å - —ç—Ç–æ –ª—é–±–æ–≤—å`, –∏—Ä–æ–Ω–∏—á–Ω–æ, –Ω–æ —ç—Ç–æ —Å–∞–º–æ–æ—á–µ–≤–∏–¥–Ω–æ (–µ—Å–ª–∏ –Ω–µ—Ç, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ `is` –∏ `is not`).

---

### ‚ñ∂ Yes, it exists!
<!-- Example ID: 4286db3d-1ea7-47c9-8fb6-a9a04cac6e49 --->
**The `else` clause for loops.** One typical example might be:

```py
  def does_exists_num(l, to_find):
      for num in l:
          if num == to_find:
              print("Exists!")
              break
      else:
          print("Does not exist")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> some_list = [1, 2, 3, 4, 5]
>>> does_exists_num(some_list, 4)
Exists!
>>> does_exists_num(some_list, -1)
Does not exist
```

**The `else` clause in exception handling.** An example,

```py
try:
    pass
except:
    print("Exception occurred!!!")
else:
    print("Try block executed successfully...")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
Try block executed successfully...
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- The `else` clause after a loop is executed only when there's no explicit `break` after all the iterations. You can think of it as a "nobreak" clause.
- `else` clause after a try block is also called "completion clause" as reaching the `else` clause in a `try` statement means that the try block actually completed successfully.

---
### ‚ñ∂ Ellipsis *
<!-- Example ID: 969b7100-ab3d-4a7d-ad7d-a6be16181b2b --->
```py
def some_func():
    Ellipsis
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**
```py
>>> some_func()
# No output, No Error

>>> SomeRandomString
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'SomeRandomString' is not defined

>>> Ellipsis
Ellipsis
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
- In Python, `Ellipsis` is a globally available built-in object which is equivalent to `...`.
    ```py
    >>> ...
    Ellipsis
    ```
- Ellipsis can be used for several purposes,
    + As a placeholder for code that hasn't been written yet (just like `pass` statement)
    + In slicing syntax to represent the full slices in remaining direction
    ```py
    >>> import numpy as np
    >>> three_dimensional_array = np.arange(8).reshape(2, 2, 2)
    array([
        [
            [0, 1],
            [2, 3]
        ],

        [
            [4, 5],
            [6, 7]
        ]
    ])
    ```
    So our `three_dimensional_array` is an array of array of arrays. Let's say we want to print the second element (index `1`) of all the innermost arrays, we can use Ellipsis to bypass all the preceding dimensions
    ```py
    >>> three_dimensional_array[:,:,1]
    array([[1, 3],
       [5, 7]])
    >>> three_dimensional_array[..., 1] # using Ellipsis.
    array([[1, 3],
       [5, 7]])
    ```
    Note: this will work for any number of dimensions. You can even select slice in first and last dimension and ignore the middle ones this way (`n_dimensional_array[firs_dim_slice, ..., last_dim_slice]`)
    + In [type hinting](https://docs.python.org/3/library/typing.html) to indicate only a part of the type (like `(Callable[..., int]` or `Tuple[str, ...]`))
    + You may also use Ellipsis as a default function argument (in the cases when you want to differentiate between the "no argument passed" and "None value passed" scenarios).

---

### ‚ñ∂ Inpinity
<!-- Example ID: ff473ea8-a3b1-4876-a6f0-4378aff790c1 --->
The spelling is intended. Please, don't submit a patch for this.

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
```py
>>> infinity = float('infinity')
>>> hash(infinity)
314159
>>> hash(float('-inf'))
-314159
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- Hash of infinity is 10‚Åµ x œÄ.
- Interestingly, the hash of `float('-inf')` is "-10‚Åµ x œÄ" in Python 3, whereas "-10‚Åµ x e" in Python 2.

---

### ‚ñ∂ Let's mangle
<!-- Example ID: 37146d2d-9e67-43a9-8729-3c17934b910c --->
1\.
```py
class Yo(object):
    def __init__(self):
        self.__honey = True
        self.bro = True
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> Yo().bro
True
>>> Yo().__honey
AttributeError: 'Yo' object has no attribute '__honey'
>>> Yo()._Yo__honey
True
```

2\.
```py
class Yo(object):
    def __init__(self):
        # Let's try something symmetrical this time
        self.__honey__ = True
        self.bro = True
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> Yo().bro
True

>>> Yo()._Yo__honey__
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'Yo' object has no attribute '_Yo__honey__'
```

Why did `Yo()._Yo__honey` work?

3\.

```py
_A__variable = "Some value"

class A(object):
    def some_func(self):
        return __variable # not initialized anywhere yet
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> A().__variable
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'A' object has no attribute '__variable'

>>> A().some_func()
'Some value'
```


#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* [Name Mangling](https://en.wikipedia.org/wiki/Name_mangling) is used to avoid naming collisions between different namespaces.
* In Python, the interpreter modifies (mangles) the class member names starting with `__` (double underscore a.k.a "dunder") and not ending with more than one trailing underscore by adding `_NameOfTheClass` in front.
* So, to access `__honey` attribute in the first snippet, we had to append `_Yo` to the front, which would prevent conflicts with the same name attribute defined in any other class.
* But then why didn't it work in the second snippet? Because name mangling excludes the names ending with double underscores.
* The third snippet was also a consequence of name mangling. The name `__variable` in the statement `return __variable` was mangled to `_A__variable`, which also happens to be the name of the variable we declared in the outer scope.
* Also, if the mangled name is longer than 255 characters, truncation will happen.

---
---

## Section: Appearances are deceptive!

### ‚ñ∂ Skipping lines?
<!-- Example ID: d50bbde1-fb9d-4735-9633-3444b9d2f417 --->
**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> value = 11
>>> valu–µ = 32
>>> value
11
```

Wut?

**Note:** The easiest way to reproduce this is to simply copy the statements from the above snippet and paste them into your file/shell.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

Some non-Western characters look identical to letters in the English alphabet but are considered distinct by the interpreter.

```py
>>> ord('–µ') # cyrillic 'e' (Ye)
1077
>>> ord('e') # latin 'e', as used in English and typed using standard keyboard
101
>>> '–µ' == 'e'
False

>>> value = 42 # latin e
>>> valu–µ = 23 # cyrillic 'e', Python 2.x interpreter would raise a `SyntaxError` here
>>> value
42
```

The built-in `ord()` function returns a character's Unicode [code point](https://en.wikipedia.org/wiki/Code_point), and different code positions of Cyrillic 'e' and Latin 'e' justify the behavior of the above example.

---

### ‚ñ∂ Teleportation

<!-- Example ID: edafe923-0c20-4315-b6e1-0c31abfc38f5 --->

```py
# `pip install numpy` first.
import numpy as np

def energy_send(x):
    # Initializing a numpy array
    np.array([float(x)])

def energy_receive():
    # Return an empty numpy array
    return np.empty((), dtype=np.float).tolist()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> energy_send(123.456)
>>> energy_receive()
123.456
```

Where's the Nobel Prize?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

* Notice that the numpy array created in the `energy_send` function is not returned, so that memory space is free to reallocate.
* `numpy.empty()` returns the next free memory slot without reinitializing it. This memory spot just happens to be the same one that was just freed (usually, but not always).

---

### ‚ñ∂ Well, something is fishy...
<!-- Example ID: cb6a37c5-74f7-44ca-b58c-3b902419b362 --->
```py
def square(x):
    """
    A simple function to calculate the square of a number by addition.
    """
    sum_so_far = 0
    for counter in range(x):
        sum_so_far = sum_so_far + x
  return sum_so_far
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 2.x):**

```py
>>> square(10)
10
```

Shouldn't that be 100?

**Note:** If you're not able to reproduce this, try running the file [mixed_tabs_and_spaces.py](/mixed_tabs_and_spaces.py) via the shell.

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

* **Don't mix tabs and spaces!** The character just preceding return is a "tab",  and the code is indented by multiple of "4 spaces" elsewhere in the example.
* This is how Python handles tabs:
  
  > First, tabs are replaced (from left to right) by one to eight spaces such that the total number of characters up to and including the replacement is a multiple of eight <...>
* So the "tab" at the last line of `square` function is replaced with eight spaces, and it gets into the loop.
* Python 3 is kind enough to throw an error for such cases automatically.

    **–†–µ–∑—É–ª—å—Ç–∞—Ç (Python 3.x):**
    ```py
    TabError: inconsistent use of tabs and spaces in indentation
    ```

---
---

## Section: Miscellaneous


### ‚ñ∂ `+=` is faster
<!-- Example ID: bfd19c60-a807-4a26-9598-4912b86ddb36 --->

```py
# using "+", three strings:
>>> timeit.timeit("s1 = s1 + s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=100)
0.25748300552368164
# using "+=", three strings:
>>> timeit.timeit("s1 += s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=100)
0.012188911437988281
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ `+=` is faster than `+` for concatenating more than two strings because the first string (example, `s1` for `s1 += s2 + s3`) is not destroyed while calculating the complete string.

---

### ‚ñ∂ Let's make a giant string!
<!-- Example ID: c7a07424-63fe-4504-9842-8f3d334f28fc --->
```py
def add_string_with_plus(iters):
    s = ""
    for i in range(iters):
        s += "xyz"
    assert len(s) == 3*iters

def add_bytes_with_plus(iters):
    s = b""
    for i in range(iters):
        s += b"xyz"
    assert len(s) == 3*iters

def add_string_with_format(iters):
    fs = "{}"*iters
    s = fs.format(*(["xyz"]*iters))
    assert len(s) == 3*iters

def add_string_with_join(iters):
    l = []
    for i in range(iters):
        l.append("xyz")
    s = "".join(l)
    assert len(s) == 3*iters

def convert_list_to_string(l, iters):
    s = "".join(l)
    assert len(s) == 3*iters
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```py
# Executed in ipython shell using %timeit for better readability of results.
# You can also use the timeit module in normal python shell/scriptm=, example usage below
# timeit.timeit('add_string_with_plus(10000)', number=1000, globals=globals())

>>> NUM_ITERS = 1000
>>> %timeit -n1000 add_string_with_plus(NUM_ITERS)
124 ¬µs ¬± 4.73 ¬µs per loop (mean ¬± std. dev. of 7 runs, 100 loops each)
>>> %timeit -n1000 add_bytes_with_plus(NUM_ITERS)
211 ¬µs ¬± 10.5 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> %timeit -n1000 add_string_with_format(NUM_ITERS)
61 ¬µs ¬± 2.18 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> %timeit -n1000 add_string_with_join(NUM_ITERS)
117 ¬µs ¬± 3.21 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> l = ["xyz"]*NUM_ITERS
>>> %timeit -n1000 convert_list_to_string(l, NUM_ITERS)
10.1 ¬µs ¬± 1.06 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
```

Let's increase the number of iterations by a factor of 10.

```py
>>> NUM_ITERS = 10000
>>> %timeit -n1000 add_string_with_plus(NUM_ITERS) # Linear increase in execution time
1.26 ms ¬± 76.8 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> %timeit -n1000 add_bytes_with_plus(NUM_ITERS) # Quadratic increase
6.82 ms ¬± 134 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> %timeit -n1000 add_string_with_format(NUM_ITERS) # Linear increase
645 ¬µs ¬± 24.5 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> %timeit -n1000 add_string_with_join(NUM_ITERS) # Linear increase
1.17 ms ¬± 7.25 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
>>> l = ["xyz"]*NUM_ITERS
>>> %timeit -n1000 convert_list_to_string(l, NUM_ITERS) # Linear increase
86.3 ¬µs ¬± 2 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
```

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
- You can read more about [timeit](https://docs.python.org/3/library/timeit.html) or [%timeit](https://ipython.org/ipython-doc/dev/interactive/magics.html#magic-timeit) on these links. They are used to measure the execution time of code pieces.
- Don't use `+` for generating long strings ‚Äî In Python, `str` is immutable, so the left and right strings have to be copied into the new string for every pair of concatenations. If you concatenate four strings of length 10, you'll be copying (10+10) + ((10+10)+10) + (((10+10)+10)+10) = 90 characters instead of just 40 characters. Things get quadratically worse as the number and size of the string increases (justified with the execution times of `add_bytes_with_plus` function)
- Therefore, it's advised to use `.format.` or `%` syntax (however, they are slightly slower than `+` for very short strings).
- Or better, if already you've contents available in the form of an iterable object, then use `''.join(iterable_object)` which is much faster.
- Unlike `add_bytes_with_plus` because of the `+=` optimizations discussed in the previous example, `add_string_with_plus` didn't show a quadratic increase in execution time. Had the statement been `s = s + "x" + "y" + "z"` instead of `s += "xyz"`, the increase would have been quadratic.
  ```py
  def add_string_with_plus(iters):
      s = ""
      for i in range(iters):
          s = s + "x" + "y" + "z"
      assert len(s) == 3*iters

  >>> %timeit -n100 add_string_with_plus(1000)
  388 ¬µs ¬± 22.4 ¬µs per loop (mean ¬± std. dev. of 7 runs, 1000 loops each)
  >>> %timeit -n100 add_string_with_plus(10000) # Quadratic increase in execution time
  9 ms ¬± 298 ¬µs per loop (mean ¬± std. dev. of 7 runs, 100 loops each)
  ```
- So many ways to format and create a giant string are somewhat in contrast to the [Zen of Python](https://www.python.org/dev/peps/pep-0020/), according to which,
  
    > There should be one-- and preferably only one --obvious way to do it.

---

### ‚ñ∂ Slowing down `dict` lookups *
<!-- Example ID: c9c26ce6-df0c-47f7-af0b-966b9386d4c3 --->
```py
some_dict = {str(i): 1 for i in range(1_000_000)}
another_dict = {str(i): 1 for i in range(1_000_000)}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```py
>>> %timeit some_dict['5']
28.6 ns ¬± 0.115 ns per loop (mean ¬± std. dev. of 7 runs, 10000000 loops each)
>>> some_dict[1] = 1
>>> %timeit some_dict['5']
37.2 ns ¬± 0.265 ns per loop (mean ¬± std. dev. of 7 runs, 10000000 loops each)

>>> %timeit another_dict['5']
28.5 ns ¬± 0.142 ns per loop (mean ¬± std. dev. of 7 runs, 10000000 loops each)
>>> another_dict[1]  # Trying to access a key that doesn't exist
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
KeyError: 1
>>> %timeit another_dict['5']
38.5 ns ¬± 0.0913 ns per loop (mean ¬± std. dev. of 7 runs, 10000000 loops each)
```
Why are same lookups becoming slower?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ CPython has a generic dictionary lookup function that handles all types of keys (`str`, `int`, any object ...), and a specialized one for the common case of dictionaries composed of `str`-only keys.
+ The specialized function (named `lookdict_unicode` in CPython's [source](https://github.com/python/cpython/blob/522691c46e2ae51faaad5bbbce7d959dd61770df/Objects/dictobject.c#L841)) knows all existing keys (including the looked-up key) are strings, and uses the faster & simpler string comparison to compare keys, instead of calling the `__eq__` method.
+ The first time a `dict` instance is accessed with a non-`str` key, it's modified so future lookups use the generic function.
+ This process is not reversible for the particular `dict` instance, and the key doesn't even have to exist in the dictionary. That's why attempting a failed lookup has the same effect.


### ‚ñ∂ Bloating instance `dict`s *
<!-- Example ID: fe706ab4-1615-c0ba-a078-76c98cbe3f48 --->
```py
import sys

class SomeClass:
    def __init__(self):
        self.some_attr1 = 1
        self.some_attr2 = 2
        self.some_attr3 = 3
        self.some_attr4 = 4


def dict_size(o):
    return sys.getsizeof(o.__dict__)

```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** (Python 3.8, other Python 3 versions may vary a little)
```py
>>> o1 = SomeClass()
>>> o2 = SomeClass()
>>> dict_size(o1)
104
>>> dict_size(o2)
104
>>> del o1.some_attr1
>>> o3 = SomeClass()
>>> dict_size(o3)
232
>>> dict_size(o1)
232
```

Let's try again... In a new interpreter:

```py
>>> o1 = SomeClass()
>>> o2 = SomeClass()
>>> dict_size(o1)
104  # as expected
>>> o1.some_attr5 = 5
>>> o1.some_attr6 = 6
>>> dict_size(o1)
360
>>> dict_size(o2)
272
>>> o3 = SomeClass()
>>> dict_size(o3)
232
```

What makes those dictionaries become bloated? And why are newly created objects bloated as well?

#### üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
+ CPython is able to reuse the same "keys" object in multiple dictionaries. This was added in [PEP 412](https://www.python.org/dev/peps/pep-0412/) with the motivation to reduce memory usage, specifically in dictionaries of instances - where keys (instance attributes) tend to be common to all instances.
+ This optimization is entirely seamless for instance dictionaries, but it is disabled if certain assumptions are broken.
+ Key-sharing dictionaries do not support deletion; if an instance attribute is deleted, the dictionary is "unshared", and key-sharing is disabled for all future instances of the same class.
+ Additionaly, if the dictionary keys have been resized (because new keys are inserted), they are kept shared *only* if they are used by a exactly single dictionary (this allows adding many attributes in the `__init__` of the very first created instance, without causing an "unshare"). If multiple instances exist when a resize happens, key-sharing is disabled for all future instances of the same class: CPython can't tell if your instances are using the same set of attributes anymore, and decides to bail out on attempting to share their keys.
+ A small tip, if you aim to lower your program's memory footprint: don't delete instance attributes, and make sure to initialize all attributes in your `__init__`!


### ‚ñ∂ Minor Ones *
<!-- Example ID: f885cb82-f1e4-4daa-9ff3-972b14cb1324 --->
* `join()` is a string operation instead of list operation. (sort of counter-intuitive at first usage)

  **üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** If `join()` is a method on a string, then it can operate on any iterable (list, tuple, iterators). If it were a method on a list, it'd have to be implemented separately by every type. Also, it doesn't make much sense to put a string-specific method on a generic `list` object API.
  
* Few weird looking but semantically correct statements:
  + `[] = ()` is a semantically correct statement (unpacking an empty `tuple` into an empty `list`)
  + `'a'[0][0][0][0][0]` is also a semantically correct statement as strings are [sequences](https://docs.python.org/3/glossary.html#term-sequence)(iterables supporting element access using integer indices) in Python.
  + `3 --0-- 5 == 8` and `--5 == 5` are both semantically correct statements and evaluate to `True`.

* Given that `a` is a number, `++a` and `--a` are both valid Python statements but don't behave the same way as compared with similar statements in languages like C, C++, or Java.
  ```py
  >>> a = 5
  >>> a
  5
  >>> ++a
  5
  >>> --a
  5
  ```

  **üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
  + There is no `++` operator in Python grammar. It is actually two `+` operators.
  + `++a` parses as `+(+a)` which translates to `a`. Similarly, the output of the statement `--a` can be justified.
  + This StackOverflow [thread](https://stackoverflow.com/questions/3654830/why-are-there-no-and-operators-in-python) discusses the rationale behind the absence of increment and decrement operators in Python.

* You must be aware of the Walrus operator in Python. But have you ever heard about *the space-invader operator*?
  ```py
  >>> a = 42
  >>> a -=- 1
  >>> a
  43
  ```
  It is used as an alternative incrementation operator, together with another one
  ```py
  >>> a +=+ 1
  >>> a
  >>> 44
  ```
  **üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** This prank comes from [Raymond Hettinger's tweet](https://twitter.com/raymondh/status/1131103570856632321?lang=en). The space invader operator is actually just a malformatted `a -= (-1)`. Which is equivalent to `a = a - (- 1)`. Similar for the `a += (+ 1)` case.
  
* Python has an undocumented [converse implication](https://en.wikipedia.org/wiki/Converse_implication) operator. 
     
     ```py
     >>> False ** False == True
     True
     >>> False ** True == False
     True
     >>> True ** False == True
     True
     >>> True ** True == True
     True
     ```

     **üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** If you replace `False` and `True` by 0 and 1 and do the maths, the truth table is equivalent to a converse implication operator. ([Source](https://github.com/cosmologicon/pywat/blob/master/explanation.md#the-undocumented-converse-implication-operator))
     
* Since we are talking operators, there's also `@` operator for matrix multiplication (don't worry, this time it's for real).

     ```py
     >>> import numpy as np
     >>> np.array([2, 2, 2]) @ np.array([7, 8, 8])
     46
     ```

     **üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** The `@` operator was added in Python 3.5 keeping the scientific community in mind. Any object can overload `__matmul__` magic method to define behavior for this operator.

* From Python 3.8 onwards you can use a typical f-string syntax like `f'{some_var=}` for quick debugging. Example,
    ```py
    >>> some_string = "wtfpython"
    >>> f'{some_string=}'
    "some_string='wtfpython'"
    ``` 

* Python uses 2 bytes for local variable storage in functions. In theory, this means that only 65536 variables can be defined in a function. However, python has a handy solution built in that can be used to store more than 2^16 variable names. The following code demonstrates what happens in the stack when more than 65536 local variables are defined (Warning: This code prints around 2^18 lines of text, so be prepared!):
     
     ```py
     import dis
    exec("""
    def f():
        """ + """
        """.join(["X" + str(x) + "=" + str(x) for x in range(65539)]))

    f()

    print(dis.dis(f))
    ```
     
* Multiple Python threads won't run your *Python code* concurrently (yes, you heard it right!). It may seem intuitive to spawn several threads and let them execute your Python code concurrently, but, because of the [Global Interpreter Lock](https://wiki.python.org/moin/GlobalInterpreterLock) in Python, all you're doing is making your threads execute on the same core turn by turn. Python threads are good for IO-bound tasks, but to achieve actual parallelization in Python for CPU-bound tasks, you might want to use the Python [multiprocessing](https://docs.python.org/3/library/multiprocessing.html) module.

* Sometimes, the `print` method might not print values immediately. For example,

     ```py
     # File some_file.py
     import time
     
     print("wtfpython", end="_")
     time.sleep(3)
     ```

     This will print the `wtfpython` after 3 seconds due to the `end` argument because the output buffer is flushed either after encountering `\n` or when the program finishes execution. We can force the buffer to flush by passing `flush=True` argument.

* List slicing with out of the bounds indices throws no errors
  ```py
  >>> some_list = [1, 2, 3, 4, 5]
  >>> some_list[111:]
  []
  ```

* Slicing an iterable not always creates a new object. For example,
    ```py
    >>> some_str = "wtfpython"
    >>> some_list = ['w', 't', 'f', 'p', 'y', 't', 'h', 'o', 'n']
    >>> some_list is some_list[:] # False expected because a new object is created.
    False
    >>> some_str is some_str[:] # True because strings are immutable, so making a new object is of not much use.
    True
    ```

* `int('Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©')` returns `123456789` in Python 3. In Python, Decimal characters include digit characters, and all characters that can be used to form decimal-radix numbers, e.g. U+0660, ARABIC-INDIC DIGIT ZERO. Here's an [interesting story](https://chris.improbable.org/2014/8/25/adventures-in-unicode-digits/) related to this behavior of Python.

* You can separate numeric literals with underscores (for better readability) from Python 3 onwards.

     ```py
     >>> six_million = 6_000_000
     >>> six_million
     6000000
     >>> hex_address = 0xF00D_CAFE
     >>> hex_address
     4027435774
     ```

* `'abc'.count('') == 4`. Here's an approximate implementation of `count` method, which would make the things more clear
  ```py
  def count(s, sub):
      result = 0
      for i in range(len(s) + 1 - len(sub)):
          result += (s[i:i + len(sub)] == sub)
      return result
  ```
  The behavior is due to the matching of empty substring(`''`) with slices of length 0 in the original string.

---
---

# Contributing

A few ways in which you can contribute to wtfpython,

- Suggesting new examples
- Helping with translation (See [issues labeled translation](https://github.com/satwikkansal/wtfpython/issues?q=is%3Aissue+is%3Aopen+label%3Atranslation))
- Minor corrections like pointing out outdated snippets, typos, formatting errors, etc.
- Identifying gaps (things like inadequate explanation, redundant examples, etc.)
- Any creative suggestions to make this project more fun and useful

Please see [CONTRIBUTING.md](/CONTRIBUTING.md) for more details. Feel free to create a new [issue](https://github.com/satwikkansal/wtfpython/issues/new) to discuss things.

PS: Please don't reach out with backlinking requests, no links will be added unless they're highly relevant to the project.

# Acknowledgements

The idea and design for this collection were initially inspired by Denys Dovhan's awesome project [wtfjs](https://github.com/denysdovhan/wtfjs). The overwhelming support by Pythonistas gave it the shape it is in right now.

#### Some nice Links!
* https://www.youtube.com/watch?v=sH4XF6pKKmk
* https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python
* https://sopython.com/wiki/Common_Gotchas_In_Python
* https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines
* https://stackoverflow.com/questions/1011431/common-pitfalls-in-python
* https://www.python.org/doc/humor/
* https://github.com/cosmologicon/pywat#the-undocumented-converse-implication-operator
* https://www.codementor.io/satwikkansal/python-practices-for-efficient-code-performance-memory-and-usability-aze6oiq65
* https://github.com/wemake-services/wemake-python-styleguide/search?q=wtfpython&type=Issues
* WFTPython discussion threads on [Hacker News](https://news.ycombinator.com/item?id=21862073) and [Reddit](https://www.reddit.com/r/programming/comments/edsh3q/what_the_fck_python_30_exploring_and/).

# üéì License

[![WTFPL 2.0][license-image]][license-url]

&copy; [Satwik Kansal](https://satwikkansal.xyz)

[license-url]: http://www.wtfpl.net
[license-image]: https://img.shields.io/badge/License-WTFPL%202.0-lightgrey.svg?style=flat-square

## Surprise your friends as well!

If you like wtfpython, you can use these quick links to share it with your friends,

[Twitter](https://twitter.com/intent/tweet?url=https://github.com/satwikkansal/wtfpython&text=If%20you%20really%20think%20you%20know%20Python,%20think%20once%20more!%20Check%20out%20wtfpython&hashtags=python,wtfpython) | [Linkedin](https://www.linkedin.com/shareArticle?url=https://github.com/satwikkansal&title=What%20the%20f*ck%20Python!&summary=If%20you%20really%20thing%20you%20know%20Python,%20think%20once%20more!) | [Facebook](https://www.facebook.com/dialog/share?app_id=536779657179021&display=page&href=https%3A%2F%2Fgithub.com%2Fsatwikkansal%2Fwtfpython&quote=If%20you%20really%20think%20you%20know%20Python%2C%20think%20once%20more!)  

## Need a pdf version?

I've received a few requests for the pdf (and epub) version of wtfpython. You can add your details [here](https://satwikkansal.xyz/wtfpython-pdf/) to get them as soon as they are finished.


**That's all folks!** For upcoming content like this, you can add your email [here](https://www.satwikkansal.xyz/content-like-wtfpython/).
